{"version":3,"sources":["node_modules/glightbox/src/js/utils/helpers.js","node_modules/glightbox/src/js/core/keyboard-navigation.js","node_modules/glightbox/src/js/core/touch-events.js","node_modules/process/browser.js","node_modules/glightbox/src/js/core/touch-navigation.js","node_modules/glightbox/src/js/core/zoom.js","node_modules/glightbox/src/js/core/drag.js","node_modules/glightbox/src/js/slides/image.js","node_modules/glightbox/src/js/slides/video.js","node_modules/glightbox/src/js/slides/inline.js","node_modules/glightbox/src/js/slides/iframe.js","node_modules/glightbox/src/js/core/slide-parser.js","node_modules/glightbox/src/js/core/slide.js","node_modules/glightbox/src/js/glightbox.js","node_modules/parcel-bundler/src/builtins/hmr-runtime.js"],"names":["uid","Date","now","extend","extended","deep","i","length","arguments","Object","prototype","toString","call","merge","obj","prop","hasOwnProperty","each","collection","callback","isNode","window","document","isArrayLike","isObject","size","l","key","has","getNodeEvents","node","name","fn","cache","data","all","evt","found","cl","eventName","addEvent","onElement","withCallback","avoidDuplicate","once","useCapture","thisArg","element","isString","querySelectorAll","handler","event","isFunction","destroy","el","events","splice","removeEventListener","addEventListener","push","addClass","split","classList","add","removeClass","remove","hasClass","contains","closest","elem","selector","body","parentElement","matches","msMatchesSelector","animateElement","animation","animationEnd","whichAnimationEvent","animationNames","target","cssTransform","translate","style","webkitTransform","MozTransform","msTransform","OTransform","transform","show","display","hide","createHTML","htmlStr","frag","createDocumentFragment","temp","createElement","innerHTML","firstChild","appendChild","windowSize","width","innerWidth","documentElement","clientWidth","height","innerHeight","clientHeight","t","animations","OAnimation","MozAnimation","WebkitAnimation","undefined","whichTransitionEvent","transitions","transition","OTransition","MozTransition","WebkitTransition","createIframe","config","url","allow","appendTo","iframe","className","src","setAttribute","onload","waitUntil","check","onComplete","delay","timeout","timeoutPointer","intervalPointer","setInterval","clearInterval","clearTimeout","setTimeout","injectAssets","waitFor","isNil","console","error","indexOf","head","getElementsByTagName","headStyles","link","rel","type","href","media","insertBefore","script","isMobile","navigator","userAgent","match","isTouch","createTouch","msMaxTouchPoints","f","s","nodeType","isArray","ar","Array","isFinite","o","keys","k","isNumber","n","isNaN","parseFloat","getNextFocusElement","current","btns","parseInt","newIndex","orders","btn","getAttribute","nextOrders","filter","nextFocus","sort","querySelector","keyboardNavigation","instance","keyCode","focusedButton","activeElement","nodeName","toLocaleLowerCase","preventDefault","first","focus","currentFocusOrder","nextSlide","prevSlide","close","getLen","v","Math","sqrt","x","y","dot","v1","v2","getAngle","mr","r","acos","cross","getRotateAngle","angle","PI","EventsHandlerAdmin","constructor","handlers","del","dispatch","len","apply","wrapFunc","EventshandlerAdmin","TouchEvents","option","start","bind","move","end","cancel","preV","pinchStartLen","zoom","isDoubleTap","noop","rotate","touchStart","multipointStart","multipointEnd","pinch","swipe","tap","doubleTap","longTap","singleTap","pressMove","twoFingerPressMove","touchMove","touchEnd","touchCancel","translateContainer","_cancelAllHandler","cancelAll","delta","last","tapTimeout","singleTapTimeout","longTapTimeout","swipeTimeout","x1","x2","y1","y2","preTapPosition","touches","ignoreDragFor","toLowerCase","log","pageX","pageY","abs","_cancelLongTap","_cancelSingleTap","_preventTap","currentX","currentY","sCurrentX","sCurrentY","sx2","deltaX","deltaY","sy2","movedX","movedY","changedTouches","self","direction","_swipeDirection","on","off","process","module","exports","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","e","runTimeout","fun","runClearTimeout","marker","queue","draining","currentQueue","queueIndex","cleanUpNextTick","concat","drainQueue","run","nextTick","args","Item","array","title","env","argv","version","versions","addListener","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","resetSlideMove","slide","transitionEnd","windowWidth","container","desc","opacity","touchNavigation","winSize","winWidth","winHeight","currentSlide","mediaImage","doingMove","initScale","maxScale","currentScale","doingZoom","imageZoomed","zoomedPosX","zoomedPosY","lastZoomedPosX","lastZoomedPosY","hDistance","vDistance","hDistancePercent","vDistancePercent","vSwipe","hSwipe","startCoords","endCoords","xDown","yDown","isInlined","sliderWrapper","getElementById","overlay","touchInstance","targetTouches","parentNode","clientX","clientY","activeSlide","offsetHeight","moved","xUp","yUp","xDiff","yDiff","settings","touchFollowAxis","h","scaleX","scaleY","scale","mhDistance","mvDistance","index","elements","ZoomImages","onclose","img","setZoomEvents","active","zoomedIn","dragging","initialX","initialY","xOffset","yOffset","dragStart","dragEnd","drag","zoomOut","zoomIn","widowWidth","maxWidth","naturalWidth","maxHeight","naturalHeight","centerX","setTranslate","isDragging","onMove","xPos","yPos","DragSlides","dragEl","toleranceX","toleranceY","lastDirection","toleranceReached","dragContainer","clicked","exludeClicks","doSlideChange","preventOutsideClick","doSlideClose","currentXInt","currentYInt","doChange","shouldChange","dragAutoSnap","doClose","shouldClose","dragDir","lastChild","animated","slideImage","slideMedia","Image","titleID","textID","alt","description","_hasCustomWidth","_hasCustomHeight","slideVideo","slideContainer","videoID","videoPlayers","getAllPlayers","videoWrapper","plyr","css","protocol","location","replace","videoSource","embedID","customPlaceholder","js","vimeoID","exec","youtubeID","getYoutubeID","html","format","pop","sources","mp4","ogg","webm","videoFile","placeholder","playerConfig","player","Plyr","detail","dataset","ready","resize","handleMediaFullScreen","slideInline","hash","trim","content","innerContent","div","cloned","cloneNode","slideIframe","SlideConfigParser","slideParamas","defaults","descPosition","effect","zoomable","draggable","sourceType","origin","parseConfig","objectData","setSize","val","nodeData","sanitizeValue","cleanKeys","join","str","regex","RegExp","value","substring","DOMException","nodeDesc","slideConfig","defaultWith","checkSize","videosWidth","defaultHeight","Slide","setContent","isMobileDevice","beforeSlideLoad","position","slideTitle","slideText","slideDesc","finalCallback","afterSlideLoad","getSlidePlayerInstance","removeChild","id","moreLength","smallDescription","slideShortDesc","moreText","descriptionEvents","dragToleranceX","dragToleranceY","offsetWidth","string","wordBoundary","cleanedString","innerText","useWordBoundary","subString","substr","moreLink","shortEvent","create","slideHTML","getConfig","parser","slideExtraAttributes","_","skin","theme","closeButton","startAt","autoplayVideos","autofocusVideos","beforeSlideChange","afterSlideChange","slideInserted","slideRemoved","onOpen","onClose","loop","preload","oneSlidePerOpen","closeOnOutsideClick","plugins","ratio","fullscreen","enabled","iosNative","youtube","noCookie","showinfo","iv_load_policy","vimeo","byline","portrait","transparent","openEffect","closeEffect","slideEffect","cssEfects","fade","in","out","slideBack","none","svg","next","prev","lightboxHTML","GlightboxInit","options","customOptions","effectsClasses","getAnimationClasses","apiEvents","fullElementsList","init","getSelector","baseEvents","open","getElements","prevActiveSlideIndex","prevActiveSlide","gallery","getGalleryElements","getElementIndex","build","scrollBar","styleSheet","showSlide","prevButton","nextButton","lightboxOpen","trigger","openAt","loader","slidesContainer","slideAnimateOut","slideNode","slideAnimateIn","slideData","slideIndex","slideDescription","slideDescriptionContained","preloadSlide","updateNavigationClasses","goToSlide","insertSlide","slideInfo","newSlide","totalSlides","addedSlideNode","addedSlidePlayer","existingSlide","removeSlide","getActiveSlideIndex","prevData","nextData","slidePlayerPlay","effectName","animIn","animOut","slidePlayerPause","stopSlideVideo","playing","pause","playSlideVideo","play","setElements","newElements","list","elData","nodes","getActiveSlide","effects","built","children","childNodes","bodyChildElms","charAt","hasAttribute","nextSVG","prevSVG","closeSVG","modal","bodyHiddenChildElms","video","image","descriptionResize","imgNode","descHeight","containerWidth","containerHeight","divisor","videoRatio","videoWidth","floor","vwidth","vheight","vsize","reload","loopAtEnd","closing","removeAttribute","styles","clearAllEvents","TypeError","onceTriggered","OVERLAY_ID","OldModule","bundle","Module","moduleName","hot","hotData","_acceptCallbacks","_disposeCallbacks","accept","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","ws","onmessage","JSON","parse","handled","assets","forEach","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","clear","hmrApply","hmrAcceptRun","removeErrorOverlay","message","stack","createErrorOverlay","stackTrace","getParents","modules","parents","d","dep","Function","deps","cached","some","cb"],"mappings":"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","file":"glightbox.0959511b.js","sourceRoot":"..","sourcesContent":["const uid = Date.now();\n\n/**\n * Merge two or more objects\n */\nexport function extend() {\n    let extended = {};\n    let deep = true;\n    let i = 0;\n    let length = arguments.length;\n    if (Object.prototype.toString.call(arguments[0]) === '[object Boolean]') {\n        deep = arguments[0];\n        i++;\n    }\n    let merge = (obj) => {\n        for (let prop in obj) {\n            if (Object.prototype.hasOwnProperty.call(obj, prop)) {\n                if (deep && Object.prototype.toString.call(obj[prop]) === '[object Object]') {\n                    extended[prop] = extend(true, extended[prop], obj[prop]);\n                } else {\n                    extended[prop] = obj[prop];\n                }\n            }\n        }\n    };\n    for (; i < length; i++) {\n        let obj = arguments[i];\n        merge(obj);\n    }\n    return extended;\n}\n\n\n/**\n * Each\n *\n * @param {mixed} node list, array, object\n * @param {function} callback\n */\nexport function each(collection, callback) {\n    if (isNode(collection) || collection === window || collection === document) {\n        collection = [collection];\n    }\n    if (!isArrayLike(collection) && !isObject(collection)) {\n        collection = [collection];\n    }\n    if (size(collection) == 0) {\n        return;\n    }\n\n    if (isArrayLike(collection) && !isObject(collection)) {\n        let l = collection.length,\n            i = 0;\n        for (; i < l; i++) {\n            if (callback.call(collection[i], collection[i], i, collection) === false) {\n                break;\n            }\n        }\n    } else if (isObject(collection)) {\n        for (let key in collection) {\n            if (has(collection, key)) {\n                if (callback.call(collection[key], collection[key], key, collection) === false) {\n                    break;\n                }\n            }\n        }\n    }\n}\n\n\n/**\n * Get nde events\n * return node events and optionally\n * check if the node has already a specific event\n * to avoid duplicated callbacks\n *\n * @param {node} node\n * @param {string} name event name\n * @param {object} fn callback\n * @returns {object}\n */\nexport function getNodeEvents(node, name = null, fn = null) {\n    const cache = (node[uid] = node[uid] || []);\n    const data = { all: cache, evt: null, found: null };\n    if (name && fn && size(cache) > 0) {\n        each(cache, (cl, i) => {\n            if (cl.eventName == name && cl.fn.toString() == fn.toString()) {\n                data.found = true;\n                data.evt = i;\n                return false;\n            }\n        });\n    }\n    return data;\n}\n\n\n/**\n * Add Event\n * Add an event listener\n *\n * @param {string} eventName\n * @param {object} detials\n */\nexport function addEvent(eventName, {\n    onElement,\n    withCallback,\n    avoidDuplicate = true,\n    once = false,\n    useCapture = false\n} = {}, thisArg) {\n    let element = onElement || [];\n    if (isString(element)) {\n        element = document.querySelectorAll(element);\n    }\n\n    function handler(event) {\n        if (isFunction(withCallback)) {\n            withCallback.call(thisArg, event, this);\n        }\n        if (once) {\n            handler.destroy();\n        }\n    }\n    handler.destroy = function() {\n        each(element, (el) => {\n            const events = getNodeEvents(el, eventName, handler);\n            if (events.found) {\n                events.all.splice(events.evt, 1);\n            }\n            if (el.removeEventListener) {\n                el.removeEventListener(eventName, handler, useCapture);\n            }\n        });\n    };\n    each(element, (el) => {\n        const events = getNodeEvents(el, eventName, handler);\n        if (el.addEventListener && (avoidDuplicate && !events.found) || !avoidDuplicate) {\n            el.addEventListener(eventName, handler, useCapture);\n            events.all.push({ eventName: eventName, fn: handler });\n        }\n    });\n    return handler;\n}\n\n/**\n * Add element class\n *\n * @param {node} element\n * @param {string} class name\n */\nexport function addClass(node, name) {\n    each(name.split(' '), cl => node.classList.add(cl));\n}\n\n/**\n * Remove element class\n *\n * @param {node} element\n * @param {string} class name\n */\nexport function removeClass(node, name) {\n    each(name.split(' '), cl => node.classList.remove(cl));\n}\n\n/**\n * Has class\n *\n * @param {node} element\n * @param {string} class name\n */\nexport function hasClass(node, name) {\n    return node.classList.contains(name);\n}\n\n/**\n * Get the closestElement\n *\n * @param {node} element\n * @param {string} class name\n */\nexport function closest(elem, selector) {\n    while (elem !== document.body) {\n        elem = elem.parentElement;\n        if (!elem) {\n            return false;\n        }\n        const matches = typeof elem.matches == 'function' ? elem.matches(selector) : elem.msMatchesSelector(selector);\n\n        if (matches) {\n            return elem;\n        }\n    }\n}\n\n/**\n * CSS Animations\n *\n * @param {node} element\n * @param {string} animation name\n * @param {function} callback\n */\nexport function animateElement(element, animation = '', callback = false) {\n    if (!element || animation === '') {\n        return false;\n    }\n    if (animation == 'none') {\n        if (isFunction(callback)) {\n            callback();\n        }\n        return false;\n    }\n    const animationEnd = whichAnimationEvent();\n    const animationNames = animation.split(' ');\n    each(animationNames, (name) => {\n        addClass(element, 'g' + name);\n    });\n    addEvent(animationEnd, {\n        onElement: element,\n        avoidDuplicate: false,\n        once: true,\n        withCallback: (event, target) => {\n            each(animationNames, (name) => {\n                removeClass(target, 'g' + name);\n            });\n            if (isFunction(callback)) {\n                callback();\n            }\n        }\n    });\n}\n\nexport function cssTransform(node, translate = '') {\n    if (translate == '') {\n        node.style.webkitTransform = '';\n        node.style.MozTransform = '';\n        node.style.msTransform = '';\n        node.style.OTransform = '';\n        node.style.transform = '';\n        return false;\n    }\n    node.style.webkitTransform = translate;\n    node.style.MozTransform = translate;\n    node.style.msTransform = translate;\n    node.style.OTransform = translate;\n    node.style.transform = translate;\n}\n\n/**\n * Show element\n *\n * @param {node} element\n */\nexport function show(element) {\n    element.style.display = 'block';\n}\n\n/**\n * Hide element\n */\nexport function hide(element) {\n    element.style.display = 'none';\n}\n\n/**\n * Create a document fragment\n *\n * @param {string} html code\n */\nexport function createHTML(htmlStr) {\n    let frag = document.createDocumentFragment(),\n        temp = document.createElement('div');\n    temp.innerHTML = htmlStr;\n    while (temp.firstChild) {\n        frag.appendChild(temp.firstChild);\n    }\n    return frag;\n}\n\n/**\n * Return screen size\n * return the current screen dimensions\n *\n * @returns {object}\n */\nexport function windowSize() {\n    return {\n        width: window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,\n        height: window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight\n    };\n}\n\n/**\n * Determine animation events\n */\nexport function whichAnimationEvent() {\n    let t, el = document.createElement('fakeelement');\n    let animations = {\n        animation: 'animationend',\n        OAnimation: 'oAnimationEnd',\n        MozAnimation: 'animationend',\n        WebkitAnimation: 'webkitAnimationEnd'\n    };\n    for (t in animations) {\n        if (el.style[t] !== undefined) {\n            return animations[t];\n        }\n    }\n}\n\n/**\n * Determine transition events\n */\nexport function whichTransitionEvent() {\n    let t,\n        el = document.createElement('fakeelement');\n\n    const transitions = {\n        transition: 'transitionend',\n        OTransition: 'oTransitionEnd',\n        MozTransition: 'transitionend',\n        WebkitTransition: 'webkitTransitionEnd'\n    };\n\n    for (t in transitions) {\n        if (el.style[t] !== undefined) {\n            return transitions[t];\n        }\n    }\n}\n\n\n/**\n * Create an iframe element\n *\n * @param {string} url\n * @param {numeric} width\n * @param {numeric} height\n * @param {function} callback\n */\nexport function createIframe(config) {\n    let { url, allow, callback, appendTo } = config;\n    let iframe = document.createElement('iframe');\n    iframe.className = 'vimeo-video gvideo';\n    iframe.src = url;\n    iframe.style.width = '100%';\n    iframe.style.height = '100%';\n\n    if (allow) {\n        iframe.setAttribute('allow', allow);\n    }\n    iframe.onload = function() {\n        addClass(iframe, 'node-ready');\n        if (isFunction(callback)) {\n            callback();\n        }\n    };\n\n    if (appendTo) {\n        appendTo.appendChild(iframe);\n    }\n    return iframe;\n}\n\n\n/**\n * Wait until\n * wait until all the validations\n * are passed\n *\n * @param {function} check\n * @param {function} onComplete\n * @param {numeric} delay\n * @param {numeric} timeout\n */\nexport function waitUntil(check, onComplete, delay, timeout) {\n    if (check()) {\n        onComplete();\n        return;\n    }\n\n    if (!delay) {\n        delay = 100;\n    }\n    let timeoutPointer;\n    let intervalPointer = setInterval(() => {\n        if (!check()) {\n            return;\n        }\n        clearInterval(intervalPointer);\n        if (timeoutPointer) {\n            clearTimeout(timeoutPointer);\n        }\n        onComplete();\n    }, delay);\n    if (timeout) {\n        timeoutPointer = setTimeout(() => {\n            clearInterval(intervalPointer);\n        }, timeout);\n    }\n}\n\n/**\n * Inject videos api\n * used for video player\n *\n * @param {string} url\n * @param {function} callback\n */\nexport function injectAssets(url, waitFor, callback) {\n    if (isNil(url)) {\n        console.error('Inject assets error');\n        return;\n    }\n    if (isFunction(waitFor)) {\n        callback = waitFor;\n        waitFor = false;\n    }\n\n    if (isString(waitFor) && (waitFor in window)) {\n        if (isFunction(callback)) {\n            callback();\n        }\n        return;\n    }\n\n    let found;\n\n    if (url.indexOf('.css') !== -1) {\n        found = document.querySelectorAll('link[href=\"' + url + '\"]');\n        if (found && found.length > 0) {\n            if (isFunction(callback)) {\n                callback();\n            }\n            return;\n        }\n\n        const head = document.getElementsByTagName('head')[0];\n        const headStyles = head.querySelectorAll('link[rel=\"stylesheet\"]');\n        const link = document.createElement('link');\n\n        link.rel = 'stylesheet';\n        link.type = 'text/css';\n        link.href = url;\n        link.media = 'all';\n\n        if (headStyles) {\n            head.insertBefore(link, headStyles[0]);\n        } else {\n            head.appendChild(link);\n        }\n        if (isFunction(callback)) {\n            callback();\n        }\n        return;\n    }\n\n    found = document.querySelectorAll('script[src=\"' + url + '\"]');\n    if (found && found.length > 0) {\n        if (isFunction(callback)) {\n            if (isString(waitFor)) {\n                waitUntil(() => {\n                    return typeof window[waitFor] !== 'undefined';\n                }, () => {\n                    callback();\n                });\n                return false;\n            }\n            callback();\n        }\n        return;\n    }\n\n    let script = document.createElement('script');\n    script.type = 'text/javascript';\n    script.src = url;\n    script.onload = () => {\n        if (isFunction(callback)) {\n            if (isString(waitFor)) {\n                waitUntil(() => {\n                    return typeof window[waitFor] !== 'undefined';\n                }, () => {\n                    callback();\n                });\n                return false;\n            }\n            callback();\n        }\n    };\n    document.body.appendChild(script);\n    return;\n}\n\nexport function isMobile() {\n    return ('navigator' in window && window.navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i));\n}\n\nexport function isTouch() {\n    return isMobile() !== null || document.createTouch !== undefined || ('ontouchstart' in window) || ('onmsgesturechange' in window) || navigator.msMaxTouchPoints;\n}\n\nexport function isFunction(f) {\n    return typeof f === 'function';\n}\nexport function isString(s) {\n    return typeof s === 'string';\n}\nexport function isNode(el) {\n    return !!(el && el.nodeType && el.nodeType == 1);\n}\nexport function isArray(ar) {\n    return Array.isArray(ar);\n}\nexport function isArrayLike(ar) {\n    return (ar && ar.length && isFinite(ar.length));\n}\nexport function isObject(o) {\n    let type = typeof o;\n    return type === 'object' && (o != null && !isFunction(o) && !isArray(o));\n}\nexport function isNil(o) {\n    return o == null;\n}\nexport function has(obj, key) {\n    return obj !== null && hasOwnProperty.call(obj, key);\n}\nexport function size(o) {\n    if (isObject(o)) {\n        if (o.keys) {\n            return o.keys().length;\n        }\n        let l = 0;\n        for (let k in o) {\n            if (has(o, k)) {\n                l++;\n            }\n        }\n        return l;\n    } else {\n        return o.length;\n    }\n}\nexport function isNumber(n) {\n    return !isNaN(parseFloat(n)) && isFinite(n);\n}\n","/**\n * Keyboard Navigation\n * Allow navigation using the keyboard\n *\n * @param {object} instance\n */\n\nimport { addEvent, addClass, removeClass, each } from '../utils/helpers.js';\n\nfunction getNextFocusElement(current = -1) {\n    const btns = document.querySelectorAll('.gbtn[data-taborder]:not(.disabled)');\n    if (!btns.length) {\n        return false;\n    }\n\n    if (btns.length == 1) {\n        return btns[0];\n    }\n\n    if (typeof current == 'string') {\n        current = parseInt(current);\n    }\n\n    let newIndex = current < 0 ? 1 : current + 1;\n    if (newIndex > btns.length) {\n        newIndex = '1';\n    }\n\n    const orders = [];\n    each(btns, (btn) => {\n        orders.push(btn.getAttribute('data-taborder'));\n    });\n    const nextOrders = orders.filter((el) => el >= parseInt(newIndex));\n    const nextFocus = nextOrders.sort()[0];\n\n    return document.querySelector(`.gbtn[data-taborder=\"${nextFocus}\"]`);\n}\n\nexport default function keyboardNavigation(instance) {\n    if (instance.events.hasOwnProperty('keyboard')) {\n        return false;\n    }\n\n    instance.events['keyboard'] = addEvent('keydown', {\n        onElement: window,\n        withCallback: (event, target) => {\n            event = event || window.event;\n            const key = event.keyCode;\n            if (key == 9) {\n                //prettier-ignore\n                const focusedButton = document.querySelector('.gbtn.focused');\n\n                if (!focusedButton) {\n                    const activeElement = document.activeElement && document.activeElement.nodeName ? document.activeElement.nodeName.toLocaleLowerCase() : false;\n                    if (activeElement == 'input' || activeElement == 'textarea' || activeElement == 'button') {\n                        return;\n                    }\n                }\n\n                event.preventDefault();\n                const btns = document.querySelectorAll('.gbtn[data-taborder]');\n                if (!btns || btns.length <= 0) {\n                    return;\n                }\n\n                if (!focusedButton) {\n                    const first = getNextFocusElement();\n                    if (first) {\n                        first.focus();\n                        addClass(first, 'focused');\n                    }\n                    return;\n                }\n\n                let currentFocusOrder = focusedButton.getAttribute('data-taborder');\n                let nextFocus = getNextFocusElement(currentFocusOrder);\n\n                removeClass(focusedButton, 'focused');\n\n                if (nextFocus) {\n                    nextFocus.focus();\n                    addClass(nextFocus, 'focused');\n                }\n            }\n            if (key == 39) {\n                instance.nextSlide();\n            }\n            if (key == 37) {\n                instance.prevSlide();\n            }\n            if (key == 27) {\n                instance.close();\n            }\n        }\n    });\n}\n","function getLen(v) {\n    return Math.sqrt(v.x * v.x + v.y * v.y);\n}\n\nfunction dot(v1, v2) {\n    return v1.x * v2.x + v1.y * v2.y;\n}\n\nfunction getAngle(v1, v2) {\n    var mr = getLen(v1) * getLen(v2);\n    if (mr === 0) {\n        return 0;\n    }\n    var r = dot(v1, v2) / mr;\n    if (r > 1) {\n        r = 1;\n    }\n    return Math.acos(r);\n}\n\nfunction cross(v1, v2) {\n    return v1.x * v2.y - v2.x * v1.y;\n}\n\nfunction getRotateAngle(v1, v2) {\n    var angle = getAngle(v1, v2);\n    if (cross(v1, v2) > 0) {\n        angle *= -1;\n    }\n\n    return (angle * 180) / Math.PI;\n}\n\nclass EventsHandlerAdmin {\n    constructor(el) {\n        this.handlers = [];\n        this.el = el;\n    }\n    add(handler) {\n        this.handlers.push(handler);\n    }\n    del(handler) {\n        if (!handler) {\n            this.handlers = [];\n        }\n\n        for (var i = this.handlers.length; i >= 0; i--) {\n            if (this.handlers[i] === handler) {\n                this.handlers.splice(i, 1);\n            }\n        }\n    }\n    dispatch() {\n        for (var i = 0, len = this.handlers.length; i < len; i++) {\n            var handler = this.handlers[i];\n            if (typeof handler === 'function') {\n                handler.apply(this.el, arguments);\n            }\n        }\n    }\n}\n\nfunction wrapFunc(el, handler) {\n    var EventshandlerAdmin = new EventsHandlerAdmin(el);\n    EventshandlerAdmin.add(handler);\n\n    return EventshandlerAdmin;\n}\n\n// Modified version of AlloyFinger\nexport default class TouchEvents {\n    constructor(el, option) {\n        this.element = typeof el == 'string' ? document.querySelector(el) : el;\n\n        this.start = this.start.bind(this);\n        this.move = this.move.bind(this);\n        this.end = this.end.bind(this);\n        this.cancel = this.cancel.bind(this);\n        this.element.addEventListener('touchstart', this.start, false);\n        this.element.addEventListener('touchmove', this.move, false);\n        this.element.addEventListener('touchend', this.end, false);\n        this.element.addEventListener('touchcancel', this.cancel, false);\n\n        this.preV = { x: null, y: null };\n        this.pinchStartLen = null;\n        this.zoom = 1;\n        this.isDoubleTap = false;\n\n        var noop = function () {};\n\n        this.rotate = wrapFunc(this.element, option.rotate || noop);\n        this.touchStart = wrapFunc(this.element, option.touchStart || noop);\n        this.multipointStart = wrapFunc(this.element, option.multipointStart || noop);\n        this.multipointEnd = wrapFunc(this.element, option.multipointEnd || noop);\n        this.pinch = wrapFunc(this.element, option.pinch || noop);\n        this.swipe = wrapFunc(this.element, option.swipe || noop);\n        this.tap = wrapFunc(this.element, option.tap || noop);\n        this.doubleTap = wrapFunc(this.element, option.doubleTap || noop);\n        this.longTap = wrapFunc(this.element, option.longTap || noop);\n        this.singleTap = wrapFunc(this.element, option.singleTap || noop);\n        this.pressMove = wrapFunc(this.element, option.pressMove || noop);\n        this.twoFingerPressMove = wrapFunc(this.element, option.twoFingerPressMove || noop);\n        this.touchMove = wrapFunc(this.element, option.touchMove || noop);\n        this.touchEnd = wrapFunc(this.element, option.touchEnd || noop);\n        this.touchCancel = wrapFunc(this.element, option.touchCancel || noop);\n        this.translateContainer = this.element;\n\n        this._cancelAllHandler = this.cancelAll.bind(this);\n\n        window.addEventListener('scroll', this._cancelAllHandler);\n\n        this.delta = null;\n        this.last = null;\n        this.now = null;\n        this.tapTimeout = null;\n        this.singleTapTimeout = null;\n        this.longTapTimeout = null;\n        this.swipeTimeout = null;\n        this.x1 = this.x2 = this.y1 = this.y2 = null;\n        this.preTapPosition = { x: null, y: null };\n    }\n    start(evt) {\n        if (!evt.touches) {\n            return;\n        }\n\n        // Fix Media Buttons Not responding on Android #233\n        const ignoreDragFor = ['a', 'button', 'input'];\n        if (evt.target && evt.target.nodeName && ignoreDragFor.indexOf(evt.target.nodeName.toLowerCase()) >= 0) {\n            console.log('ignore drag for this touched element', evt.target.nodeName.toLowerCase());\n            return;\n        }\n\n        this.now = Date.now();\n        this.x1 = evt.touches[0].pageX;\n        this.y1 = evt.touches[0].pageY;\n        this.delta = this.now - (this.last || this.now);\n        this.touchStart.dispatch(evt, this.element);\n        if (this.preTapPosition.x !== null) {\n            this.isDoubleTap = this.delta > 0 && this.delta <= 250 && Math.abs(this.preTapPosition.x - this.x1) < 30 && Math.abs(this.preTapPosition.y - this.y1) < 30;\n            if (this.isDoubleTap) {\n                clearTimeout(this.singleTapTimeout);\n            }\n        }\n        this.preTapPosition.x = this.x1;\n        this.preTapPosition.y = this.y1;\n        this.last = this.now;\n        var preV = this.preV,\n            len = evt.touches.length;\n        if (len > 1) {\n            this._cancelLongTap();\n            this._cancelSingleTap();\n            var v = { x: evt.touches[1].pageX - this.x1, y: evt.touches[1].pageY - this.y1 };\n            preV.x = v.x;\n            preV.y = v.y;\n            this.pinchStartLen = getLen(preV);\n            this.multipointStart.dispatch(evt, this.element);\n        }\n        this._preventTap = false;\n        this.longTapTimeout = setTimeout(\n            function () {\n                this.longTap.dispatch(evt, this.element);\n                this._preventTap = true;\n            }.bind(this),\n            750\n        );\n    }\n    move(evt) {\n        if (!evt.touches) {\n            return;\n        }\n        var preV = this.preV,\n            len = evt.touches.length,\n            currentX = evt.touches[0].pageX,\n            currentY = evt.touches[0].pageY;\n        this.isDoubleTap = false;\n        if (len > 1) {\n            var sCurrentX = evt.touches[1].pageX,\n                sCurrentY = evt.touches[1].pageY;\n            var v = { x: evt.touches[1].pageX - currentX, y: evt.touches[1].pageY - currentY };\n\n            if (preV.x !== null) {\n                if (this.pinchStartLen > 0) {\n                    evt.zoom = getLen(v) / this.pinchStartLen;\n                    this.pinch.dispatch(evt, this.element);\n                }\n\n                evt.angle = getRotateAngle(v, preV);\n                this.rotate.dispatch(evt, this.element);\n            }\n            preV.x = v.x;\n            preV.y = v.y;\n\n            if (this.x2 !== null && this.sx2 !== null) {\n                evt.deltaX = (currentX - this.x2 + sCurrentX - this.sx2) / 2;\n                evt.deltaY = (currentY - this.y2 + sCurrentY - this.sy2) / 2;\n            } else {\n                evt.deltaX = 0;\n                evt.deltaY = 0;\n            }\n            this.twoFingerPressMove.dispatch(evt, this.element);\n\n            this.sx2 = sCurrentX;\n            this.sy2 = sCurrentY;\n        } else {\n            if (this.x2 !== null) {\n                evt.deltaX = currentX - this.x2;\n                evt.deltaY = currentY - this.y2;\n\n                var movedX = Math.abs(this.x1 - this.x2),\n                    movedY = Math.abs(this.y1 - this.y2);\n\n                if (movedX > 10 || movedY > 10) {\n                    this._preventTap = true;\n                }\n            } else {\n                evt.deltaX = 0;\n                evt.deltaY = 0;\n            }\n            this.pressMove.dispatch(evt, this.element);\n        }\n\n        this.touchMove.dispatch(evt, this.element);\n\n        this._cancelLongTap();\n        this.x2 = currentX;\n        this.y2 = currentY;\n\n        if (len > 1) {\n            evt.preventDefault();\n        }\n    }\n    end(evt) {\n        if (!evt.changedTouches) {\n            return;\n        }\n        this._cancelLongTap();\n        var self = this;\n        if (evt.touches.length < 2) {\n            this.multipointEnd.dispatch(evt, this.element);\n            this.sx2 = this.sy2 = null;\n        }\n\n        //swipe\n        if ((this.x2 && Math.abs(this.x1 - this.x2) > 30) || (this.y2 && Math.abs(this.y1 - this.y2) > 30)) {\n            evt.direction = this._swipeDirection(this.x1, this.x2, this.y1, this.y2);\n            this.swipeTimeout = setTimeout(function () {\n                self.swipe.dispatch(evt, self.element);\n            }, 0);\n        } else {\n            this.tapTimeout = setTimeout(function () {\n                if (!self._preventTap) {\n                    self.tap.dispatch(evt, self.element);\n                }\n                // trigger double tap immediately\n                if (self.isDoubleTap) {\n                    self.doubleTap.dispatch(evt, self.element);\n                    self.isDoubleTap = false;\n                }\n            }, 0);\n\n            if (!self.isDoubleTap) {\n                self.singleTapTimeout = setTimeout(function () {\n                    self.singleTap.dispatch(evt, self.element);\n                }, 250);\n            }\n        }\n\n        this.touchEnd.dispatch(evt, this.element);\n\n        this.preV.x = 0;\n        this.preV.y = 0;\n        this.zoom = 1;\n        this.pinchStartLen = null;\n        this.x1 = this.x2 = this.y1 = this.y2 = null;\n    }\n    cancelAll() {\n        this._preventTap = true;\n        clearTimeout(this.singleTapTimeout);\n        clearTimeout(this.tapTimeout);\n        clearTimeout(this.longTapTimeout);\n        clearTimeout(this.swipeTimeout);\n    }\n    cancel(evt) {\n        this.cancelAll();\n        this.touchCancel.dispatch(evt, this.element);\n    }\n    _cancelLongTap() {\n        clearTimeout(this.longTapTimeout);\n    }\n    _cancelSingleTap() {\n        clearTimeout(this.singleTapTimeout);\n    }\n    _swipeDirection(x1, x2, y1, y2) {\n        return Math.abs(x1 - x2) >= Math.abs(y1 - y2) ? (x1 - x2 > 0 ? 'Left' : 'Right') : y1 - y2 > 0 ? 'Up' : 'Down';\n    }\n    on(evt, handler) {\n        if (this[evt]) {\n            this[evt].add(handler);\n        }\n    }\n    off(evt, handler) {\n        if (this[evt]) {\n            this[evt].del(handler);\n        }\n    }\n    destroy() {\n        if (this.singleTapTimeout) {\n            clearTimeout(this.singleTapTimeout);\n        }\n        if (this.tapTimeout) {\n            clearTimeout(this.tapTimeout);\n        }\n        if (this.longTapTimeout) {\n            clearTimeout(this.longTapTimeout);\n        }\n        if (this.swipeTimeout) {\n            clearTimeout(this.swipeTimeout);\n        }\n\n        this.element.removeEventListener('touchstart', this.start);\n        this.element.removeEventListener('touchmove', this.move);\n        this.element.removeEventListener('touchend', this.end);\n        this.element.removeEventListener('touchcancel', this.cancel);\n\n        this.rotate.del();\n        this.touchStart.del();\n        this.multipointStart.del();\n        this.multipointEnd.del();\n        this.pinch.del();\n        this.swipe.del();\n        this.tap.del();\n        this.doubleTap.del();\n        this.longTap.del();\n        this.singleTap.del();\n        this.pressMove.del();\n        this.twoFingerPressMove.del();\n        this.touchMove.del();\n        this.touchEnd.del();\n        this.touchCancel.del();\n\n        this.preV =\n            this.pinchStartLen =\n            this.zoom =\n            this.isDoubleTap =\n            this.delta =\n            this.last =\n            this.now =\n            this.tapTimeout =\n            this.singleTapTimeout =\n            this.longTapTimeout =\n            this.swipeTimeout =\n            this.x1 =\n            this.x2 =\n            this.y1 =\n            this.y2 =\n            this.preTapPosition =\n            this.rotate =\n            this.touchStart =\n            this.multipointStart =\n            this.multipointEnd =\n            this.pinch =\n            this.swipe =\n            this.tap =\n            this.doubleTap =\n            this.longTap =\n            this.singleTap =\n            this.pressMove =\n            this.touchMove =\n            this.touchEnd =\n            this.touchCancel =\n            this.twoFingerPressMove =\n                null;\n\n        window.removeEventListener('scroll', this._cancelAllHandler);\n        return null;\n    }\n}\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","/**\n * Touch Navigation\n * Allow navigation using touch events\n *\n * @param {object} instance\n */\n\nimport TouchEvents from './touch-events.js';\nimport { addEvent, addClass, removeClass, hasClass, closest, whichTransitionEvent, cssTransform, windowSize } from '../utils/helpers.js';\n\nfunction resetSlideMove(slide) {\n    const transitionEnd = whichTransitionEvent();\n    const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n    let media = hasClass(slide, 'gslide-media') ? slide : slide.querySelector('.gslide-media');\n    let container = closest(media, '.ginner-container');\n    let desc = slide.querySelector('.gslide-description');\n\n    if (windowWidth > 769) {\n        media = container;\n    }\n\n    addClass(media, 'greset');\n    cssTransform(media, 'translate3d(0, 0, 0)');\n    addEvent(transitionEnd, {\n        onElement: media,\n        once: true,\n        withCallback: (event, target) => {\n            removeClass(media, 'greset');\n        }\n    });\n\n    media.style.opacity = '';\n    if (desc) {\n        desc.style.opacity = '';\n    }\n}\n\nexport default function touchNavigation(instance) {\n    if (instance.events.hasOwnProperty('touch')) {\n        return false;\n    }\n\n    let winSize = windowSize();\n    let winWidth = winSize.width;\n    let winHeight = winSize.height;\n    let process = false;\n    let currentSlide = null;\n    let media = null;\n    let mediaImage = null;\n    let doingMove = false;\n    let initScale = 1;\n    let maxScale = 4.5;\n    let currentScale = 1;\n    let doingZoom = false;\n    let imageZoomed = false;\n    let zoomedPosX = null;\n    let zoomedPosY = null;\n    let lastZoomedPosX = null;\n    let lastZoomedPosY = null;\n    let hDistance;\n    let vDistance;\n    let hDistancePercent = 0;\n    let vDistancePercent = 0;\n    let vSwipe = false;\n    let hSwipe = false;\n    let startCoords = {};\n    let endCoords = {};\n    let xDown = 0;\n    let yDown = 0;\n    let isInlined;\n\n    const sliderWrapper = document.getElementById('glightbox-slider');\n    const overlay = document.querySelector('.goverlay');\n\n    const touchInstance = new TouchEvents(sliderWrapper, {\n        touchStart: (e) => {\n            process = true;\n\n            // TODO: More tests for inline content slides\n            if (hasClass(e.targetTouches[0].target, 'ginner-container') || closest(e.targetTouches[0].target, '.gslide-desc') || e.targetTouches[0].target.nodeName.toLowerCase() == 'a') {\n                process = false;\n            }\n\n            if (closest(e.targetTouches[0].target, '.gslide-inline') && !hasClass(e.targetTouches[0].target.parentNode, 'gslide-inline')) {\n                process = false;\n            }\n\n            if (process) {\n                endCoords = e.targetTouches[0];\n                startCoords.pageX = e.targetTouches[0].pageX;\n                startCoords.pageY = e.targetTouches[0].pageY;\n                xDown = e.targetTouches[0].clientX;\n                yDown = e.targetTouches[0].clientY;\n\n                currentSlide = instance.activeSlide;\n                media = currentSlide.querySelector('.gslide-media');\n                isInlined = currentSlide.querySelector('.gslide-inline');\n\n                mediaImage = null;\n                if (hasClass(media, 'gslide-image')) {\n                    mediaImage = media.querySelector('img');\n                }\n\n                const windowWidth = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n\n                if (windowWidth > 769) {\n                    media = currentSlide.querySelector('.ginner-container');\n                }\n\n                removeClass(overlay, 'greset');\n\n                if (e.pageX > 20 && e.pageX < window.innerWidth - 20) {\n                    return;\n                }\n                e.preventDefault();\n            }\n        },\n        touchMove: (e) => {\n            if (!process) {\n                return;\n            }\n            endCoords = e.targetTouches[0];\n\n            if (doingZoom || imageZoomed) {\n                return;\n            }\n            if (isInlined && isInlined.offsetHeight > winHeight) {\n                // Allow scroll without moving the slide\n                const moved = startCoords.pageX - endCoords.pageX;\n                if (Math.abs(moved) <= 13) {\n                    return false;\n                }\n            }\n\n            doingMove = true;\n            let xUp = e.targetTouches[0].clientX;\n            let yUp = e.targetTouches[0].clientY;\n            let xDiff = xDown - xUp;\n            let yDiff = yDown - yUp;\n\n            if (Math.abs(xDiff) > Math.abs(yDiff)) {\n                vSwipe = false;\n                hSwipe = true;\n            } else {\n                hSwipe = false;\n                vSwipe = true;\n            }\n\n            hDistance = endCoords.pageX - startCoords.pageX;\n            hDistancePercent = (hDistance * 100) / winWidth;\n\n            vDistance = endCoords.pageY - startCoords.pageY;\n            vDistancePercent = (vDistance * 100) / winHeight;\n\n            let opacity;\n            if (vSwipe && mediaImage) {\n                opacity = 1 - Math.abs(vDistance) / winHeight;\n                overlay.style.opacity = opacity;\n\n                if (instance.settings.touchFollowAxis) {\n                    hDistancePercent = 0;\n                }\n            }\n            if (hSwipe) {\n                opacity = 1 - Math.abs(hDistance) / winWidth;\n                media.style.opacity = opacity;\n\n                if (instance.settings.touchFollowAxis) {\n                    vDistancePercent = 0;\n                }\n            }\n\n            if (!mediaImage) {\n                return cssTransform(media, `translate3d(${hDistancePercent}%, 0, 0)`);\n            }\n\n            cssTransform(media, `translate3d(${hDistancePercent}%, ${vDistancePercent}%, 0)`);\n        },\n        touchEnd: () => {\n            if (!process) {\n                return;\n            }\n            doingMove = false;\n            if (imageZoomed || doingZoom) {\n                lastZoomedPosX = zoomedPosX;\n                lastZoomedPosY = zoomedPosY;\n                return;\n            }\n            const v = Math.abs(parseInt(vDistancePercent));\n            const h = Math.abs(parseInt(hDistancePercent));\n\n            if (v > 29 && mediaImage) {\n                instance.close();\n                return;\n            }\n            if (v < 29 && h < 25) {\n                addClass(overlay, 'greset');\n                overlay.style.opacity = 1;\n                return resetSlideMove(media);\n            }\n        },\n        multipointEnd: () => {\n            setTimeout(() => {\n                doingZoom = false;\n            }, 50);\n        },\n        multipointStart: () => {\n            doingZoom = true;\n            initScale = currentScale ? currentScale : 1;\n        },\n        pinch: (evt) => {\n            if (!mediaImage || doingMove) {\n                return false;\n            }\n\n            doingZoom = true;\n            mediaImage.scaleX = mediaImage.scaleY = initScale * evt.zoom;\n\n            let scale = initScale * evt.zoom;\n            imageZoomed = true;\n\n            if (scale <= 1) {\n                imageZoomed = false;\n                scale = 1;\n                lastZoomedPosY = null;\n                lastZoomedPosX = null;\n                zoomedPosX = null;\n                zoomedPosY = null;\n                mediaImage.setAttribute('style', '');\n                return;\n            }\n            if (scale > maxScale) {\n                // max scale zoom\n                scale = maxScale;\n            }\n\n            mediaImage.style.transform = `scale3d(${scale}, ${scale}, 1)`;\n            currentScale = scale;\n        },\n        pressMove: (e) => {\n            if (imageZoomed && !doingZoom) {\n                var mhDistance = endCoords.pageX - startCoords.pageX;\n                var mvDistance = endCoords.pageY - startCoords.pageY;\n\n                if (lastZoomedPosX) {\n                    mhDistance = mhDistance + lastZoomedPosX;\n                }\n                if (lastZoomedPosY) {\n                    mvDistance = mvDistance + lastZoomedPosY;\n                }\n\n                zoomedPosX = mhDistance;\n                zoomedPosY = mvDistance;\n\n                let style = `translate3d(${mhDistance}px, ${mvDistance}px, 0)`;\n                if (currentScale) {\n                    style += ` scale3d(${currentScale}, ${currentScale}, 1)`;\n                }\n                cssTransform(mediaImage, style);\n            }\n        },\n        swipe: (evt) => {\n            if (imageZoomed) {\n                return;\n            }\n            if (doingZoom) {\n                doingZoom = false;\n                return;\n            }\n            if (evt.direction == 'Left') {\n                if (instance.index == instance.elements.length - 1) {\n                    return resetSlideMove(media);\n                }\n                instance.nextSlide();\n            }\n            if (evt.direction == 'Right') {\n                if (instance.index == 0) {\n                    return resetSlideMove(media);\n                }\n                instance.prevSlide();\n            }\n        }\n    });\n\n    instance.events['touch'] = touchInstance;\n}\n","/**\n * ZoomImages\n * Allow imaes to zoom and drag\n * for desktops\n *\n * @param {node} img node\n * @param {node} slide container\n * @param {function} function to trigger on close\n */\nexport default class ZoomImages {\n    constructor(el, slide, onclose = null) {\n        this.img = el;\n        this.slide = slide;\n        this.onclose = onclose;\n\n        if (this.img.setZoomEvents) {\n            return false;\n        }\n\n        this.active = false;\n        this.zoomedIn = false;\n        this.dragging = false;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n\n        this.img.addEventListener('mousedown', (e) => this.dragStart(e), false);\n        this.img.addEventListener('mouseup', (e) => this.dragEnd(e), false);\n        this.img.addEventListener('mousemove', (e) => this.drag(e), false);\n\n        this.img.addEventListener(\n            'click',\n            (e) => {\n                if (this.slide.classList.contains('dragging-nav')) {\n                    this.zoomOut();\n                    return false;\n                }\n\n                if (!this.zoomedIn) {\n                    return this.zoomIn();\n                }\n                if (this.zoomedIn && !this.dragging) {\n                    this.zoomOut();\n                }\n            },\n            false\n        );\n\n        this.img.setZoomEvents = true;\n    }\n    zoomIn() {\n        let winWidth = this.widowWidth();\n\n        if (this.zoomedIn || winWidth <= 768) {\n            return;\n        }\n\n        const img = this.img;\n        img.setAttribute('data-style', img.getAttribute('style'));\n        img.style.maxWidth = img.naturalWidth + 'px';\n        img.style.maxHeight = img.naturalHeight + 'px';\n\n        if (img.naturalWidth > winWidth) {\n            let centerX = winWidth / 2 - img.naturalWidth / 2;\n            this.setTranslate(this.img.parentNode, centerX, 0);\n        }\n        this.slide.classList.add('zoomed');\n        this.zoomedIn = true;\n    }\n    zoomOut() {\n        this.img.parentNode.setAttribute('style', '');\n        this.img.setAttribute('style', this.img.getAttribute('data-style'));\n        this.slide.classList.remove('zoomed');\n        this.zoomedIn = false;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n\n        if (this.onclose && typeof this.onclose == 'function') {\n            this.onclose();\n        }\n    }\n    dragStart(e) {\n        e.preventDefault();\n        if (!this.zoomedIn) {\n            this.active = false;\n            return;\n        }\n        if (e.type === 'touchstart') {\n            this.initialX = e.touches[0].clientX - this.xOffset;\n            this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n            this.initialX = e.clientX - this.xOffset;\n            this.initialY = e.clientY - this.yOffset;\n        }\n\n        if (e.target === this.img) {\n            this.active = true;\n            this.img.classList.add('dragging');\n        }\n    }\n    dragEnd(e) {\n        e.preventDefault();\n        this.initialX = this.currentX;\n        this.initialY = this.currentY;\n        this.active = false;\n\n        setTimeout(() => {\n            this.dragging = false;\n            this.img.isDragging = false;\n            this.img.classList.remove('dragging');\n        }, 100);\n    }\n    drag(e) {\n        if (this.active) {\n            e.preventDefault();\n\n            if (e.type === 'touchmove') {\n                this.currentX = e.touches[0].clientX - this.initialX;\n                this.currentY = e.touches[0].clientY - this.initialY;\n            } else {\n                this.currentX = e.clientX - this.initialX;\n                this.currentY = e.clientY - this.initialY;\n            }\n\n            this.xOffset = this.currentX;\n            this.yOffset = this.currentY;\n\n            this.img.isDragging = true;\n            this.dragging = true;\n\n            this.setTranslate(this.img, this.currentX, this.currentY);\n        }\n    }\n    onMove(e) {\n        if (!this.zoomedIn) {\n            return;\n        }\n        let xOffset = e.clientX - this.img.naturalWidth / 2;\n        let yOffset = e.clientY - this.img.naturalHeight / 2;\n\n        this.setTranslate(this.img, xOffset, yOffset);\n    }\n    setTranslate(node, xPos, yPos) {\n        node.style.transform = 'translate3d(' + xPos + 'px, ' + yPos + 'px, 0)';\n    }\n    widowWidth() {\n        return window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    }\n}\n","/**\n * DragSlides\n * Allow imaes to be dragged for prev and next\n * in desktops\n *\n * @param { object } config\n */\n\nimport { closest } from '../utils/helpers.js';\n\nexport default class DragSlides {\n    constructor(config = {}) {\n        let { dragEl, toleranceX = 40, toleranceY = 65, slide = null, instance = null } = config;\n\n        this.el = dragEl;\n        this.active = false;\n        this.dragging = false;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        this.direction = null;\n        this.lastDirection = null;\n        this.toleranceX = toleranceX;\n        this.toleranceY = toleranceY;\n        this.toleranceReached = false;\n        this.dragContainer = this.el;\n        this.slide = slide;\n        this.instance = instance;\n\n        this.el.addEventListener('mousedown', (e) => this.dragStart(e), false);\n        this.el.addEventListener('mouseup', (e) => this.dragEnd(e), false);\n        this.el.addEventListener('mousemove', (e) => this.drag(e), false);\n    }\n    dragStart(e) {\n        if (this.slide.classList.contains('zoomed')) {\n            this.active = false;\n            return;\n        }\n\n        if (e.type === 'touchstart') {\n            this.initialX = e.touches[0].clientX - this.xOffset;\n            this.initialY = e.touches[0].clientY - this.yOffset;\n        } else {\n            this.initialX = e.clientX - this.xOffset;\n            this.initialY = e.clientY - this.yOffset;\n        }\n\n        let clicked = e.target.nodeName.toLowerCase();\n        let exludeClicks = ['input', 'select', 'textarea', 'button', 'a'];\n        if (\n            e.target.classList.contains('nodrag') ||\n            closest(e.target, '.nodrag') ||\n            exludeClicks.indexOf(clicked) !== -1\n        ) {\n            this.active = false;\n            return;\n        }\n\n        e.preventDefault();\n\n        if (e.target === this.el || (clicked !== 'img' && closest(e.target, '.gslide-inline'))) {\n            this.active = true;\n            this.el.classList.add('dragging');\n            this.dragContainer = closest(e.target, '.ginner-container');\n        }\n    }\n    dragEnd(e) {\n        e && e.preventDefault();\n        this.initialX = 0;\n        this.initialY = 0;\n        this.currentX = null;\n        this.currentY = null;\n        this.initialX = null;\n        this.initialY = null;\n        this.xOffset = 0;\n        this.yOffset = 0;\n        this.active = false;\n\n        if (this.doSlideChange) {\n            this.instance.preventOutsideClick = true;\n            this.doSlideChange == 'right' && this.instance.prevSlide();\n            this.doSlideChange == 'left' && this.instance.nextSlide();\n        }\n\n        if (this.doSlideClose) {\n            this.instance.close();\n        }\n\n        if (!this.toleranceReached) {\n            this.setTranslate(this.dragContainer, 0, 0, true);\n        }\n\n        setTimeout(() => {\n            this.instance.preventOutsideClick = false;\n            this.toleranceReached = false;\n            this.lastDirection = null;\n            this.dragging = false;\n            this.el.isDragging = false;\n            this.el.classList.remove('dragging');\n            this.slide.classList.remove('dragging-nav');\n            this.dragContainer.style.transform = '';\n            this.dragContainer.style.transition = '';\n        }, 100);\n    }\n    drag(e) {\n        if (this.active) {\n            e.preventDefault();\n\n            this.slide.classList.add('dragging-nav');\n\n            if (e.type === 'touchmove') {\n                this.currentX = e.touches[0].clientX - this.initialX;\n                this.currentY = e.touches[0].clientY - this.initialY;\n            } else {\n                this.currentX = e.clientX - this.initialX;\n                this.currentY = e.clientY - this.initialY;\n            }\n\n            this.xOffset = this.currentX;\n            this.yOffset = this.currentY;\n\n            this.el.isDragging = true;\n            this.dragging = true;\n            this.doSlideChange = false;\n            this.doSlideClose = false;\n\n            let currentXInt = Math.abs(this.currentX);\n            let currentYInt = Math.abs(this.currentY);\n\n            // Horizontal drag\n            if (\n                currentXInt > 0 &&\n                currentXInt >= Math.abs(this.currentY) &&\n                (!this.lastDirection || this.lastDirection == 'x')\n            ) {\n                this.yOffset = 0;\n                this.lastDirection = 'x';\n                this.setTranslate(this.dragContainer, this.currentX, 0);\n\n                let doChange = this.shouldChange();\n                if (!this.instance.settings.dragAutoSnap && doChange) {\n                    this.doSlideChange = doChange;\n                }\n\n                if (this.instance.settings.dragAutoSnap && doChange) {\n                    this.instance.preventOutsideClick = true;\n                    this.toleranceReached = true;\n                    this.active = false;\n                    this.instance.preventOutsideClick = true;\n                    this.dragEnd(null);\n                    doChange == 'right' && this.instance.prevSlide();\n                    doChange == 'left' && this.instance.nextSlide();\n                    return;\n                }\n            }\n\n            // Vertical drag\n            if (\n                this.toleranceY > 0 &&\n                currentYInt > 0 &&\n                currentYInt >= currentXInt &&\n                (!this.lastDirection || this.lastDirection == 'y')\n            ) {\n                this.xOffset = 0;\n                this.lastDirection = 'y';\n                this.setTranslate(this.dragContainer, 0, this.currentY);\n\n                let doClose = this.shouldClose();\n\n                if (!this.instance.settings.dragAutoSnap && doClose) {\n                    this.doSlideClose = true;\n                }\n                if (this.instance.settings.dragAutoSnap && doClose) {\n                    this.instance.close();\n                }\n                return;\n            }\n        }\n    }\n\n    shouldChange() {\n        let doChange = false;\n        let currentXInt = Math.abs(this.currentX);\n\n        if (currentXInt >= this.toleranceX) {\n            let dragDir = this.currentX > 0 ? 'right' : 'left';\n\n            if (\n                (dragDir == 'left' && this.slide !== this.slide.parentNode.lastChild) ||\n                (dragDir == 'right' && this.slide !== this.slide.parentNode.firstChild)\n            ) {\n                doChange = dragDir;\n            }\n        }\n        return doChange;\n    }\n\n    shouldClose() {\n        let doClose = false;\n        let currentYInt = Math.abs(this.currentY);\n\n        if (currentYInt >= this.toleranceY) {\n            doClose = true;\n        }\n        return doClose;\n    }\n\n    setTranslate(node, xPos, yPos, animated = false) {\n        if (animated) {\n            node.style.transition = 'all .2s ease';\n        } else {\n            node.style.transition = '';\n        }\n        node.style.transform = `translate3d(${xPos}px, ${yPos}px, 0)`;\n    }\n}\n","/**\n * Set slide inline content\n * we'll extend this to make http\n * requests using the fetch api\n * but for now we keep it simple\n *\n * @param {node} slide\n * @param {object} data\n * @param {int} index\n * @param {function} callback\n */\n\nimport { isFunction } from '../utils/helpers.js';\n\nexport default function slideImage(slide, data, index, callback) {\n    const slideMedia = slide.querySelector('.gslide-media');\n\n    let img = new Image();\n    let titleID = 'gSlideTitle_' + index;\n    let textID = 'gSlideDesc_' + index;\n\n    // prettier-ignore\n    img.addEventListener('load', () => {\n        if (isFunction(callback)) {\n            callback();\n        }\n    }, false);\n\n    img.src = data.href;\n    img.alt = ''; // https://davidwalsh.name/accessibility-tip-empty-alt-attributes\n\n    if (data.title !== '') {\n        img.setAttribute('aria-labelledby', titleID);\n    }\n    if (data.description !== '') {\n        // https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Techniques/Using_the_aria-describedby_attribute#Example_2_A_Close_Button\n        img.setAttribute('aria-describedby', textID);\n    }\n\n    if (data.hasOwnProperty('_hasCustomWidth') && data._hasCustomWidth) {\n        img.style.width = data.width;\n    }\n    if (data.hasOwnProperty('_hasCustomHeight') && data._hasCustomHeight) {\n        img.style.height = data.height;\n    }\n\n    slideMedia.insertBefore(img, slideMedia.firstChild);\n    return;\n}\n","/**\n * Set slide video\n *\n * @param {node} slide\n * @param {object} data\n * @param {int} index\n * @param {function} callback\n */\nimport { has, closest, injectAssets, addClass, removeClass, createHTML, isFunction, waitUntil } from '../utils/helpers.js';\n\nexport default function slideVideo(slide, data, index, callback) {\n    const slideContainer = slide.querySelector('.ginner-container');\n    const videoID = 'gvideo' + index;\n    const slideMedia = slide.querySelector('.gslide-media');\n    const videoPlayers = this.getAllPlayers();\n\n    addClass(slideContainer, 'gvideo-container');\n\n    slideMedia.insertBefore(createHTML('<div class=\"gvideo-wrapper\"></div>'), slideMedia.firstChild);\n\n    const videoWrapper = slide.querySelector('.gvideo-wrapper');\n\n    injectAssets(this.settings.plyr.css, 'Plyr');\n\n    let url = data.href;\n    let protocol = location.protocol.replace(':', '');\n    let videoSource = '';\n    let embedID = '';\n    let customPlaceholder = false;\n\n    if (protocol == 'file') {\n        protocol = 'http';\n    }\n    slideMedia.style.maxWidth = data.width;\n\n    injectAssets(this.settings.plyr.js, 'Plyr', () => {\n        // Set vimeo videos\n        if (url.match(/vimeo\\.com\\/([0-9]*)/)) {\n            const vimeoID = /vimeo.*\\/(\\d+)/i.exec(url);\n            videoSource = 'vimeo';\n            embedID = vimeoID[1];\n        }\n\n        // Set youtube videos\n        if (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)) {\n            const youtubeID = getYoutubeID(url);\n            videoSource = 'youtube';\n            embedID = youtubeID;\n        }\n\n        // Set local videos\n        if (url.match(/\\.(mp4|ogg|webm|mov)$/) !== null) {\n            videoSource = 'local';\n            let html = '<video id=\"' + videoID + '\" ';\n            html += `style=\"background:#000; max-width: ${data.width};\" `;\n            html += 'preload=\"metadata\" ';\n            html += 'x-webkit-airplay=\"allow\" ';\n            html += 'webkit-playsinline=\"\" ';\n            html += 'controls ';\n            html += 'class=\"gvideo-local\">';\n\n            let format = url.toLowerCase().split('.').pop();\n            let sources = { mp4: '', ogg: '', webm: '' };\n            format = format == 'mov' ? 'mp4' : format;\n            sources[format] = url;\n\n            for (let key in sources) {\n                if (sources.hasOwnProperty(key)) {\n                    let videoFile = sources[key];\n                    if (data.hasOwnProperty(key)) {\n                        videoFile = data[key];\n                    }\n                    if (videoFile !== '') {\n                        html += `<source src=\"${videoFile}\" type=\"video/${key}\">`;\n                    }\n                }\n            }\n            html += '</video>';\n            customPlaceholder = createHTML(html);\n        }\n\n        // prettier-ignore\n        const placeholder = customPlaceholder ? customPlaceholder : createHTML(`<div id=\"${videoID}\" data-plyr-provider=\"${videoSource}\" data-plyr-embed-id=\"${embedID}\"></div>`);\n\n        addClass(videoWrapper, `${videoSource}-video gvideo`);\n        videoWrapper.appendChild(placeholder);\n        videoWrapper.setAttribute('data-id', videoID);\n        videoWrapper.setAttribute('data-index', index);\n\n        const playerConfig = has(this.settings.plyr, 'config') ? this.settings.plyr.config : {};\n        const player = new Plyr('#' + videoID, playerConfig);\n\n        player.on('ready', (event) => {\n            const instance = event.detail.plyr;\n            videoPlayers[videoID] = instance;\n            if (isFunction(callback)) {\n                callback();\n            }\n        });\n        waitUntil(\n            () => {\n                return slide.querySelector('iframe') && slide.querySelector('iframe').dataset.ready == 'true';\n            },\n            () => {\n                this.resize(slide);\n            }\n        );\n        player.on('enterfullscreen', handleMediaFullScreen);\n        player.on('exitfullscreen', handleMediaFullScreen);\n    });\n}\n\n/**\n * Get youtube ID\n *\n * @param {string} url\n * @returns {string} video id\n */\nfunction getYoutubeID(url) {\n    let videoID = '';\n    url = url.replace(/(>|<)/gi, '').split(/(vi\\/|v=|\\/v\\/|youtu\\.be\\/|\\/embed\\/)/);\n    if (url[2] !== undefined) {\n        videoID = url[2].split(/[^0-9a-z_\\-]/i);\n        videoID = videoID[0];\n    } else {\n        videoID = url;\n    }\n    return videoID;\n}\n\n/**\n * Handle fullscreen\n *\n * @param {object} event\n */\nfunction handleMediaFullScreen(event) {\n    const media = closest(event.target, '.gslide-media');\n\n    if (event.type == 'enterfullscreen') {\n        addClass(media, 'fullscreen');\n    }\n    if (event.type == 'exitfullscreen') {\n        removeClass(media, 'fullscreen');\n    }\n}\n","/**\n * Set slide inline content\n * we'll extend this to make http\n * requests using the fetch api\n * but for now we keep it simple\n *\n * @param {node} slide\n * @param {object} data\n * @param {int} index\n * @param {function} callback\n */\n\nimport { has, addClass, addEvent, createHTML, isString, isNode, isFunction } from '../utils/helpers.js';\n\nexport default function slideInline(slide, data, index, callback) {\n    const slideMedia = slide.querySelector('.gslide-media');\n    const hash = has(data, 'href') && data.href ? data.href.split('#').pop().trim() : false;\n    const content = has(data, 'content') && data.content ? data.content : false;\n    let innerContent;\n\n    if (content) {\n        if (isString(content)) {\n            innerContent = createHTML(`<div class=\"ginlined-content\">${content}</div>`);\n        }\n        if (isNode(content)) {\n            if (content.style.display == 'none') {\n                content.style.display = 'block';\n            }\n\n            const container = document.createElement('div');\n            container.className = 'ginlined-content';\n            container.appendChild(content);\n            innerContent = container;\n        }\n    }\n\n    if (hash) {\n        let div = document.getElementById(hash);\n        if (!div) {\n            return false;\n        }\n        const cloned = div.cloneNode(true);\n\n        cloned.style.height = data.height;\n        cloned.style.maxWidth = data.width;\n        addClass(cloned, 'ginlined-content');\n        innerContent = cloned;\n    }\n\n    if (!innerContent) {\n        console.error('Unable to append inline slide content', data);\n        return false;\n    }\n\n    slideMedia.style.height = data.height;\n    slideMedia.style.width = data.width;\n    slideMedia.appendChild(innerContent);\n\n    this.events['inlineclose' + hash] = addEvent('click', {\n        onElement: slideMedia.querySelectorAll('.gtrigger-close'),\n        withCallback: (e) => {\n            e.preventDefault();\n            this.close();\n        }\n    });\n\n    if (isFunction(callback)) {\n        callback();\n    }\n    return;\n}\n","/**\n * Set slide iframe content\n *\n * @param {node} slide\n * @param {object} data\n * @param {int} index\n * @param {function} callback\n */\n\nimport { createIframe } from '../utils/helpers.js';\n\nexport default function slideIframe(slide, data, index, callback) {\n    const slideMedia = slide.querySelector('.gslide-media');\n    const iframe = createIframe({\n        url: data.href,\n        callback: callback\n    });\n\n    slideMedia.parentNode.style.maxWidth = data.width;\n    slideMedia.parentNode.style.height = data.height;\n    slideMedia.appendChild(iframe);\n\n    return;\n}\n","import { extend, has, each, isNil, isNode, isObject, isNumber } from '../utils/helpers.js';\n\nexport default class SlideConfigParser {\n    constructor(slideParamas = {}) {\n        this.defaults = {\n            href: '',\n            title: '',\n            type: '',\n            description: '',\n            descPosition: 'bottom',\n            effect: '',\n            width: '',\n            height: '',\n            content: false,\n            zoomable: true,\n            draggable: true\n        };\n\n        if (isObject(slideParamas)) {\n            this.defaults = extend(this.defaults, slideParamas);\n        }\n    }\n\n    /**\n     * Get source type\n     * gte the source type of a url\n     *\n     * @param {string} url\n     */\n    sourceType(url) {\n        let origin = url;\n        url = url.toLowerCase();\n\n        if (url.match(/\\.(jpeg|jpg|jpe|gif|png|apn|webp|svg)$/) !== null) {\n            return 'image';\n        }\n        if (url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/watch\\?v=([a-zA-Z0-9\\-_]+)/) || url.match(/youtu\\.be\\/([a-zA-Z0-9\\-_]+)/) || url.match(/(youtube\\.com|youtube-nocookie\\.com)\\/embed\\/([a-zA-Z0-9\\-_]+)/)) {\n            return 'video';\n        }\n        if (url.match(/vimeo\\.com\\/([0-9]*)/)) {\n            return 'video';\n        }\n        if (url.match(/\\.(mp4|ogg|webm|mov)$/) !== null) {\n            return 'video';\n        }\n        if (url.match(/\\.(mp3|wav|wma|aac|ogg)$/) !== null) {\n            return 'audio';\n        }\n\n        // Check if inline content\n        if (url.indexOf('#') > -1) {\n            let hash = origin.split('#').pop();\n            if (hash.trim() !== '') {\n                return 'inline';\n            }\n        }\n        // Ajax\n        if (url.indexOf('goajax=true') > -1) {\n            return 'ajax';\n        }\n\n        return 'external';\n    }\n\n    parseConfig(element, settings) {\n        let data = extend({ descPosition: settings.descPosition }, this.defaults);\n\n        if (isObject(element) && !isNode(element)) {\n            if (!has(element, 'type')) {\n                if (has(element, 'content') && element.content) {\n                    element.type = 'inline';\n                } else if (has(element, 'href')) {\n                    element.type = this.sourceType(element.href);\n                }\n            }\n            let objectData = extend(data, element);\n            this.setSize(objectData, settings);\n\n            return objectData;\n        }\n\n        let url = '';\n        let config = element.getAttribute('data-glightbox');\n        let nodeType = element.nodeName.toLowerCase();\n        if (nodeType === 'a') {\n            url = element.href;\n        }\n        if (nodeType === 'img') {\n            url = element.src;\n        }\n\n        data.href = url;\n\n        each(data, (val, key) => {\n            if (has(settings, key) && key !== 'width') {\n                data[key] = settings[key];\n            }\n            const nodeData = element.dataset[key];\n            if (!isNil(nodeData)) {\n                data[key] = this.sanitizeValue(nodeData);\n            }\n        });\n\n        if (data.content) {\n            data.type = 'inline';\n        }\n\n        if (!data.type && url) {\n            data.type = this.sourceType(url);\n        }\n\n        if (!isNil(config)) {\n            let cleanKeys = [];\n            each(data, (v, k) => {\n                cleanKeys.push(';\\\\s?' + k);\n            });\n            cleanKeys = cleanKeys.join('\\\\s?:|');\n            if (config.trim() !== '') {\n                each(data, (val, key) => {\n                    const str = config;\n                    const match = 's?' + key + 's?:s?(.*?)(' + cleanKeys + 's?:|$)';\n                    const regex = new RegExp(match);\n                    const matches = str.match(regex);\n\n                    if (matches && matches.length && matches[1]) {\n                        const value = matches[1].trim().replace(/;\\s*$/, '');\n                        data[key] = this.sanitizeValue(value);\n                    }\n                });\n            }\n        } else {\n            if (!data.title && nodeType == 'a') {\n                let title = element.title;\n                if (!isNil(title) && title !== '') {\n                    data.title = title;\n                }\n            }\n            if (!data.title && nodeType == 'img') {\n                let alt = element.alt;\n                if (!isNil(alt) && alt !== '') {\n                    data.title = alt;\n                }\n            }\n        }\n\n        // Try to get the description from a referenced element\n        if (data.description && data.description.substring(0, 1) === '.') {\n            let description;\n\n            try {\n                description = document.querySelector(data.description).innerHTML;\n            } catch (error) {\n                if (!(error instanceof DOMException)) {\n                    throw error;\n                }\n            }\n\n            if (description) {\n                data.description = description;\n            }\n        }\n\n        // Try to get the description from a .glightbox-desc element\n        if (!data.description) {\n            let nodeDesc = element.querySelector('.glightbox-desc');\n            if (nodeDesc) {\n                data.description = nodeDesc.innerHTML;\n            }\n        }\n\n        this.setSize(data, settings, element);\n        this.slideConfig = data;\n\n        return data;\n    }\n\n    /**\n     * Set slide data size\n     * set the correct size dependin\n     * on the slide type\n     *\n     * @param { object } data\n     * @param { object } settings\n     * @return { object }\n     */\n    setSize(data, settings, element = null) {\n        const defaultWith = data.type == 'video' ? this.checkSize(settings.videosWidth) : this.checkSize(settings.width);\n        const defaultHeight = this.checkSize(settings.height);\n\n        data.width = has(data, 'width') && data.width !== '' ? this.checkSize(data.width) : defaultWith;\n        data.height = has(data, 'height') && data.height !== '' ? this.checkSize(data.height) : defaultHeight;\n\n        if (element && data.type == 'image') {\n            data._hasCustomWidth = element.dataset.width ? true : false;\n            data._hasCustomHeight = element.dataset.height ? true : false;\n        }\n\n        return data;\n    }\n\n    /**\n     * [checkSize size\n     * check if the passed size has a correct unit\n     *\n     * @param {string} size\n     * @return {string}\n     */\n    checkSize(size) {\n        return isNumber(size) ? `${size}px` : size;\n    }\n\n    /**\n     * Sanitize data attributes value\n     *\n     * @param string val\n     * @return mixed\n     */\n    sanitizeValue(val) {\n        if (val !== 'true' && val !== 'false') {\n            return val;\n        }\n        return val === 'true';\n    }\n}\n","/**\n * Slide\n * class to hablde slide creation\n * and config parser\n */\n\nimport ZoomImages from './zoom.js';\nimport DragSlides from './drag.js';\nimport slideImage from '../slides/image.js';\nimport slideVideo from '../slides/video.js';\nimport slideInline from '../slides/inline.js';\nimport slideIframe from '../slides/iframe.js';\nimport SlideConfigParser from './slide-parser.js';\nimport { addEvent, addClass, removeClass, hasClass, closest, isMobile, isFunction, createHTML } from '../utils/helpers.js';\n\nexport default class Slide {\n    constructor(el, instance, index) {\n        this.element = el;\n        this.instance = instance;\n        this.index = index;\n    }\n\n    /**\n     * Set slide content\n     *\n     * @param {node} slide\n     * @param {object} data\n     * @param {function} callback\n     */\n    setContent(slide = null, callback = false) {\n        if (hasClass(slide, 'loaded')) {\n            return false;\n        }\n\n        const settings = this.instance.settings;\n        const slideConfig = this.slideConfig;\n        const isMobileDevice = isMobile();\n\n        if (isFunction(settings.beforeSlideLoad)) {\n            settings.beforeSlideLoad({\n                index: this.index,\n                slide: slide,\n                player: false\n            });\n        }\n\n        let type = slideConfig.type;\n        let position = slideConfig.descPosition;\n        let slideMedia = slide.querySelector('.gslide-media');\n        let slideTitle = slide.querySelector('.gslide-title');\n        let slideText = slide.querySelector('.gslide-desc');\n        let slideDesc = slide.querySelector('.gdesc-inner');\n        let finalCallback = callback;\n\n        // used for image accessiblity\n        let titleID = 'gSlideTitle_' + this.index;\n        let textID = 'gSlideDesc_' + this.index;\n\n        if (isFunction(settings.afterSlideLoad)) {\n            finalCallback = () => {\n                if (isFunction(callback)) {\n                    callback();\n                }\n                settings.afterSlideLoad({\n                    index: this.index,\n                    slide: slide,\n                    player: this.instance.getSlidePlayerInstance(this.index)\n                });\n            };\n        }\n\n        if (slideConfig.title == '' && slideConfig.description == '') {\n            if (slideDesc) {\n                slideDesc.parentNode.parentNode.removeChild(slideDesc.parentNode);\n            }\n        } else {\n            if (slideTitle && slideConfig.title !== '') {\n                slideTitle.id = titleID;\n                slideTitle.innerHTML = slideConfig.title;\n            } else {\n                slideTitle.parentNode.removeChild(slideTitle);\n            }\n            if (slideText && slideConfig.description !== '') {\n                slideText.id = textID;\n                if (isMobileDevice && settings.moreLength > 0) {\n                    slideConfig.smallDescription = this.slideShortDesc(slideConfig.description, settings.moreLength, settings.moreText);\n                    slideText.innerHTML = slideConfig.smallDescription;\n                    this.descriptionEvents(slideText, slideConfig);\n                } else {\n                    slideText.innerHTML = slideConfig.description;\n                }\n            } else {\n                slideText.parentNode.removeChild(slideText);\n            }\n            addClass(slideMedia.parentNode, `desc-${position}`);\n            addClass(slideDesc.parentNode, `description-${position}`);\n        }\n\n        addClass(slideMedia, `gslide-${type}`);\n        addClass(slide, 'loaded');\n\n        if (type === 'video') {\n            slideVideo.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n            return;\n        }\n\n        if (type === 'external') {\n            slideIframe.apply(this, [slide, slideConfig, this.index, finalCallback]);\n            return;\n        }\n\n        if (type === 'inline') {\n            slideInline.apply(this.instance, [slide, slideConfig, this.index, finalCallback]);\n            if (settings.draggable) {\n                new DragSlides({\n                    dragEl: slide.querySelector('.gslide-inline'),\n                    toleranceX: settings.dragToleranceX,\n                    toleranceY: settings.dragToleranceY,\n                    slide: slide,\n                    instance: this.instance\n                });\n            }\n            return;\n        }\n\n        if (type === 'image') {\n            slideImage(slide, slideConfig, this.index, () => {\n                const img = slide.querySelector('img');\n\n                if (settings.draggable) {\n                    new DragSlides({\n                        dragEl: img,\n                        toleranceX: settings.dragToleranceX,\n                        toleranceY: settings.dragToleranceY,\n                        slide: slide,\n                        instance: this.instance\n                    });\n                }\n                if (slideConfig.zoomable && img.naturalWidth > img.offsetWidth) {\n                    addClass(img, 'zoomable');\n                    new ZoomImages(img, slide, () => {\n                        this.instance.resize();\n                    });\n                }\n\n                if (isFunction(finalCallback)) {\n                    finalCallback();\n                }\n            });\n            return;\n        }\n\n        if (isFunction(finalCallback)) {\n            finalCallback();\n        }\n    }\n\n    slideShortDesc(string, n = 50, wordBoundary = false) {\n        let div = document.createElement('div');\n        div.innerHTML = string;\n        let cleanedString = div.innerText;\n\n        let useWordBoundary = wordBoundary;\n        string = cleanedString.trim();\n        if (string.length <= n) {\n            return string;\n        }\n        let subString = string.substr(0, n - 1);\n        if (!useWordBoundary) {\n            return subString;\n        }\n\n        div = null;\n        return subString + '... <a href=\"#\" class=\"desc-more\">' + wordBoundary + '</a>';\n    }\n\n    descriptionEvents(desc, data) {\n        let moreLink = desc.querySelector('.desc-more');\n        if (!moreLink) {\n            return false;\n        }\n\n        addEvent('click', {\n            onElement: moreLink,\n            withCallback: (event, target) => {\n                event.preventDefault();\n                const body = document.body;\n\n                let desc = closest(target, '.gslide-desc');\n                if (!desc) {\n                    return false;\n                }\n\n                desc.innerHTML = data.description;\n                addClass(body, 'gdesc-open');\n\n                let shortEvent = addEvent('click', {\n                    onElement: [body, closest(desc, '.gslide-description')],\n                    withCallback: (event, target) => {\n                        if (event.target.nodeName.toLowerCase() !== 'a') {\n                            removeClass(body, 'gdesc-open');\n                            addClass(body, 'gdesc-closed');\n                            desc.innerHTML = data.smallDescription;\n                            this.descriptionEvents(desc, data);\n\n                            setTimeout(() => {\n                                removeClass(body, 'gdesc-closed');\n                            }, 400);\n                            shortEvent.destroy();\n                        }\n                    }\n                });\n            }\n        });\n    }\n\n    /**\n     * Create Slide Node\n     *\n     * @return { node }\n     */\n    create() {\n        return createHTML(this.instance.settings.slideHTML);\n    }\n\n    /**\n     * Get slide config\n     * returns each individual slide config\n     * it uses SlideConfigParser\n     * each slide can overwrite a global setting\n     * read more in the SlideConfigParser class\n     *\n     * @return { object }\n     */\n    getConfig() {\n        const parser = new SlideConfigParser(this.instance.settings.slideExtraAttributes);\n        this.slideConfig = parser.parseConfig(this.element, this.instance.settings);\n\n        return this.slideConfig;\n    }\n}\n","/**\n * GLightbox\n * Awesome pure javascript lightbox\n * made by https://www.biati.digital\n * Github: https://github.com/biati-digital/glightbox\n */\n\nimport keyboardNavigation from './core/keyboard-navigation.js';\nimport touchNavigation from './core/touch-navigation.js';\nimport Slide from './core/slide.js';\nimport * as _ from './utils/helpers.js';\n\nconst version = '3.0.9';\nconst isMobile = _.isMobile();\nconst isTouch = _.isTouch();\nconst html = document.getElementsByTagName('html')[0];\n\nconst defaults = {\n    selector: '.glightbox',\n    elements: null,\n    skin: 'clean',\n    theme: 'clean',\n    closeButton: true,\n    startAt: null,\n    autoplayVideos: true,\n    autofocusVideos: true,\n    descPosition: 'bottom',\n    width: '900px',\n    height: '506px',\n    videosWidth: '960px',\n    beforeSlideChange: null,\n    afterSlideChange: null,\n    beforeSlideLoad: null,\n    afterSlideLoad: null,\n    slideInserted: null,\n    slideRemoved: null,\n    slideExtraAttributes: null,\n    onOpen: null,\n    onClose: null,\n    loop: false,\n    zoomable: true,\n    draggable: true,\n    dragAutoSnap: false,\n    dragToleranceX: 40,\n    dragToleranceY: 65,\n    preload: true,\n    oneSlidePerOpen: false,\n    touchNavigation: true,\n    touchFollowAxis: true,\n    keyboardNavigation: true,\n    closeOnOutsideClick: true,\n    plugins: false,\n    plyr: {\n        css: 'https://cdn.plyr.io/3.6.8/plyr.css',\n        js: 'https://cdn.plyr.io/3.6.8/plyr.js',\n        config: {\n            ratio: '16:9', // or '4:3'\n            fullscreen: { enabled: true, iosNative: true },\n            youtube: {\n                noCookie: true,\n                rel: 0,\n                showinfo: 0,\n                iv_load_policy: 3 // eslint-disable-line camelcase\n            },\n            vimeo: {\n                byline: false,\n                portrait: false,\n                title: false,\n                transparent: false\n            }\n        }\n    },\n    openEffect: 'zoom', // fade, zoom, none\n    closeEffect: 'zoom', // fade, zoom, none\n    slideEffect: 'slide', // fade, slide, zoom, none\n    moreText: 'See more',\n    moreLength: 60,\n    cssEfects: {\n        fade: { in: 'fadeIn', out: 'fadeOut' },\n        zoom: { in: 'zoomIn', out: 'zoomOut' },\n        slide: { in: 'slideInRight', out: 'slideOutLeft' },\n        slideBack: { in: 'slideInLeft', out: 'slideOutRight' },\n        none: { in: 'none', out: 'none' }\n    },\n    svg: {\n        close: '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 512 512\" xml:space=\"preserve\"><g><g><path d=\"M505.943,6.058c-8.077-8.077-21.172-8.077-29.249,0L6.058,476.693c-8.077,8.077-8.077,21.172,0,29.249C10.096,509.982,15.39,512,20.683,512c5.293,0,10.586-2.019,14.625-6.059L505.943,35.306C514.019,27.23,514.019,14.135,505.943,6.058z\"/></g></g><g><g><path d=\"M505.942,476.694L35.306,6.059c-8.076-8.077-21.172-8.077-29.248,0c-8.077,8.076-8.077,21.171,0,29.248l470.636,470.636c4.038,4.039,9.332,6.058,14.625,6.058c5.293,0,10.587-2.019,14.624-6.057C514.018,497.866,514.018,484.771,505.942,476.694z\"/></g></g></svg>',\n        next: '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"> <g><path d=\"M360.731,229.075l-225.1-225.1c-5.3-5.3-13.8-5.3-19.1,0s-5.3,13.8,0,19.1l215.5,215.5l-215.5,215.5c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4c3.4,0,6.9-1.3,9.5-4l225.1-225.1C365.931,242.875,365.931,234.275,360.731,229.075z\"/></g></svg>',\n        prev: '<svg version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" x=\"0px\" y=\"0px\" viewBox=\"0 0 477.175 477.175\" xml:space=\"preserve\"><g><path d=\"M145.188,238.575l215.5-215.5c5.3-5.3,5.3-13.8,0-19.1s-13.8-5.3-19.1,0l-225.1,225.1c-5.3,5.3-5.3,13.8,0,19.1l225.1,225c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1L145.188,238.575z\"/></g></svg>'\n    }\n};\n\n// You can pass your own slide structure\n// just make sure that add the same classes so they are populated\n// title class = gslide-title\n// desc class = gslide-desc\n// prev arrow class = gnext\n// next arrow id = gprev\n// close id = gclose\ndefaults.slideHTML = `<div class=\"gslide\">\n    <div class=\"gslide-inner-content\">\n        <div class=\"ginner-container\">\n            <div class=\"gslide-media\">\n            </div>\n            <div class=\"gslide-description\">\n                <div class=\"gdesc-inner\">\n                    <h4 class=\"gslide-title\"></h4>\n                    <div class=\"gslide-desc\"></div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>`;\n\ndefaults.lightboxHTML = `<div id=\"glightbox-body\" class=\"glightbox-container\" tabindex=\"-1\" role=\"dialog\" aria-hidden=\"false\">\n    <div class=\"gloader visible\"></div>\n    <div class=\"goverlay\"></div>\n    <div class=\"gcontainer\">\n    <div id=\"glightbox-slider\" class=\"gslider\"></div>\n    <button class=\"gclose gbtn\" aria-label=\"Close\" data-taborder=\"3\">{closeSVG}</button>\n    <button class=\"gprev gbtn\" aria-label=\"Previous\" data-taborder=\"2\">{prevSVG}</button>\n    <button class=\"gnext gbtn\" aria-label=\"Next\" data-taborder=\"1\">{nextSVG}</button>\n</div>\n</div>`;\n\n/**\n * GLightbox Class\n * Class and public methods\n */\nclass GlightboxInit {\n    constructor(options = {}) {\n        this.customOptions = options;\n        this.settings = _.extend(defaults, options);\n        this.effectsClasses = this.getAnimationClasses();\n        this.videoPlayers = {};\n        this.apiEvents = [];\n        this.fullElementsList = false;\n    }\n\n    init() {\n        const selector = this.getSelector();\n\n        if (selector) {\n            this.baseEvents = _.addEvent('click', {\n                onElement: selector,\n                withCallback: (e, target) => {\n                    e.preventDefault();\n                    this.open(target);\n                }\n            });\n        }\n\n        this.elements = this.getElements();\n    }\n\n    open(element = null, startAt = null) {\n        if (this.elements.length == 0) {\n            return false;\n        }\n\n        this.activeSlide = null;\n        this.prevActiveSlideIndex = null;\n        this.prevActiveSlide = null;\n        let index = _.isNumber(startAt) ? startAt : this.settings.startAt;\n\n        if (_.isNode(element)) {\n            const gallery = element.getAttribute('data-gallery');\n            if (gallery) {\n                this.fullElementsList = this.elements;\n                this.elements = this.getGalleryElements(this.elements, gallery);\n            }\n            if (_.isNil(index)) {\n                // get the index of the element\n                index = this.getElementIndex(element);\n                if (index < 0) {\n                    index = 0;\n                }\n            }\n        }\n\n        if (!_.isNumber(index)) {\n            index = 0;\n        }\n\n        this.build();\n\n        _.animateElement(this.overlay, this.settings.openEffect == 'none' ? 'none' : this.settings.cssEfects.fade.in);\n\n        const body = document.body;\n\n        const scrollBar = window.innerWidth - document.documentElement.clientWidth;\n        if (scrollBar > 0) {\n            var styleSheet = document.createElement('style');\n            styleSheet.type = 'text/css';\n            styleSheet.className = 'gcss-styles';\n            styleSheet.innerText = `.gscrollbar-fixer {margin-right: ${scrollBar}px}`;\n            document.head.appendChild(styleSheet);\n            _.addClass(body, 'gscrollbar-fixer');\n        }\n\n        _.addClass(body, 'glightbox-open');\n        _.addClass(html, 'glightbox-open');\n        if (isMobile) {\n            _.addClass(document.body, 'glightbox-mobile');\n            this.settings.slideEffect = 'slide';\n        }\n\n        this.showSlide(index, true);\n\n        if (this.elements.length == 1) {\n            _.addClass(this.prevButton, 'glightbox-button-hidden');\n            _.addClass(this.nextButton, 'glightbox-button-hidden');\n        } else {\n            _.removeClass(this.prevButton, 'glightbox-button-hidden');\n            _.removeClass(this.nextButton, 'glightbox-button-hidden');\n        }\n        this.lightboxOpen = true;\n\n        this.trigger('open');\n\n        // settings.onOpen is deprecated and will be removed in a future update\n        if (_.isFunction(this.settings.onOpen)) {\n            this.settings.onOpen();\n        }\n        if (isTouch && this.settings.touchNavigation) {\n            touchNavigation(this);\n        }\n        if (this.settings.keyboardNavigation) {\n            keyboardNavigation(this);\n        }\n    }\n\n    /**\n     * Open at specific index\n     * @param {int} index\n     */\n    openAt(index = 0) {\n        this.open(null, index);\n    }\n\n    /**\n     * Set Slide\n     */\n    showSlide(index = 0, first = false) {\n        _.show(this.loader);\n        this.index = parseInt(index);\n\n        let current = this.slidesContainer.querySelector('.current');\n        if (current) {\n            _.removeClass(current, 'current');\n        }\n\n        // hide prev slide\n        this.slideAnimateOut();\n\n        let slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n\n        // Check if slide's content is alreay loaded\n        if (_.hasClass(slideNode, 'loaded')) {\n            this.slideAnimateIn(slideNode, first);\n            _.hide(this.loader);\n        } else {\n            // If not loaded add the slide content\n            _.show(this.loader);\n\n            const slide = this.elements[index];\n            const slideData = {\n                index: this.index,\n                slide: slideNode, //this will be removed in the future\n                slideNode: slideNode,\n                slideConfig: slide.slideConfig,\n                slideIndex: this.index,\n                trigger: slide.node,\n                player: null\n            };\n\n            this.trigger('slide_before_load', slideData);\n\n            slide.instance.setContent(slideNode, () => {\n                _.hide(this.loader);\n                this.resize();\n                this.slideAnimateIn(slideNode, first);\n                this.trigger('slide_after_load', slideData);\n            });\n        }\n\n        this.slideDescription = slideNode.querySelector('.gslide-description');\n        this.slideDescriptionContained = this.slideDescription && _.hasClass(this.slideDescription.parentNode, 'gslide-media');\n\n        // Preload subsequent slides\n        if (this.settings.preload) {\n            this.preloadSlide(index + 1);\n            this.preloadSlide(index - 1);\n        }\n\n        // Handle navigation arrows\n        this.updateNavigationClasses();\n\n        this.activeSlide = slideNode;\n    }\n\n    /**\n     * Preload slides\n     * @param  {Int}  index slide index\n     * @return {null}\n     */\n    preloadSlide(index) {\n        // Verify slide index, it can not be lower than 0\n        // and it can not be greater than the total elements\n        if (index < 0 || index > this.elements.length - 1) {\n            return false;\n        }\n\n        if (_.isNil(this.elements[index])) {\n            return false;\n        }\n\n        let slideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n        if (_.hasClass(slideNode, 'loaded')) {\n            return false;\n        }\n\n        const slide = this.elements[index];\n        const type = slide.type;\n        const slideData = {\n            index: index,\n            slide: slideNode, //this will be removed in the future\n            slideNode: slideNode,\n            slideConfig: slide.slideConfig,\n            slideIndex: index,\n            trigger: slide.node,\n            player: null\n        };\n\n        this.trigger('slide_before_load', slideData);\n\n        if (type == 'video' || type == 'external') {\n            setTimeout(() => {\n                slide.instance.setContent(slideNode, () => {\n                    this.trigger('slide_after_load', slideData);\n                });\n            }, 200);\n        } else {\n            slide.instance.setContent(slideNode, () => {\n                this.trigger('slide_after_load', slideData);\n            });\n        }\n    }\n\n    /**\n     * Load previous slide\n     * calls goToslide\n     */\n    prevSlide() {\n        this.goToSlide(this.index - 1);\n    }\n\n    /**\n     * Load next slide\n     * calls goToslide\n     */\n    nextSlide() {\n        this.goToSlide(this.index + 1);\n    }\n\n    /**\n     * Go to sldei\n     * calls set slide\n     * @param {Int} - index\n     */\n    goToSlide(index = false) {\n        this.prevActiveSlide = this.activeSlide;\n        this.prevActiveSlideIndex = this.index;\n\n        if (!this.loop() && (index < 0 || index > this.elements.length - 1)) {\n            return false;\n        }\n        if (index < 0) {\n            index = this.elements.length - 1;\n        } else if (index >= this.elements.length) {\n            index = 0;\n        }\n        this.showSlide(index);\n    }\n\n    /**\n     * Insert slide\n     *\n     * @param { object } data\n     * @param { numeric } position\n     */\n    insertSlide(config = {}, index = -1) {\n        // Append at the end\n        if (index < 0) {\n            index = this.elements.length;\n        }\n\n        const slide = new Slide(config, this, index);\n        const data = slide.getConfig();\n        const slideInfo = _.extend({}, data);\n        const newSlide = slide.create();\n        const totalSlides = this.elements.length - 1;\n\n        slideInfo.index = index;\n        slideInfo.node = false;\n        slideInfo.instance = slide;\n        slideInfo.slideConfig = data;\n        this.elements.splice(index, 0, slideInfo);\n\n        let addedSlideNode = null;\n        let addedSlidePlayer = null;\n\n        if (this.slidesContainer) {\n            // Append at the end\n            if (index > totalSlides) {\n                this.slidesContainer.appendChild(newSlide);\n            } else {\n                // A current slide must exist in the position specified\n                // we need tp get that slide and insder the new slide before\n                let existingSlide = this.slidesContainer.querySelectorAll('.gslide')[index];\n                this.slidesContainer.insertBefore(newSlide, existingSlide);\n            }\n\n            if ((this.settings.preload && this.index == 0 && index == 0) || this.index - 1 == index || this.index + 1 == index) {\n                this.preloadSlide(index);\n            }\n\n            if (this.index == 0 && index == 0) {\n                this.index = 1;\n            }\n\n            this.updateNavigationClasses();\n\n            addedSlideNode = this.slidesContainer.querySelectorAll('.gslide')[index];\n            addedSlidePlayer = this.getSlidePlayerInstance(index);\n            slideInfo.slideNode = addedSlideNode;\n        }\n\n        this.trigger('slide_inserted', {\n            index: index,\n            slide: addedSlideNode,\n            slideNode: addedSlideNode,\n            slideConfig: data,\n            slideIndex: index,\n            trigger: null,\n            player: addedSlidePlayer\n        });\n\n        // Deprecated and will be removed in a future update\n        if (_.isFunction(this.settings.slideInserted)) {\n            this.settings.slideInserted({\n                index: index,\n                slide: addedSlideNode,\n                player: addedSlidePlayer\n            });\n        }\n    }\n\n    /**\n     * Remove slide\n     *\n     * @param { numeric } position\n     */\n    removeSlide(index = -1) {\n        if (index < 0 || index > this.elements.length - 1) {\n            return false;\n        }\n\n        const slide = this.slidesContainer && this.slidesContainer.querySelectorAll('.gslide')[index];\n\n        if (slide) {\n            if (this.getActiveSlideIndex() == index) {\n                if (index == this.elements.length - 1) {\n                    this.prevSlide();\n                } else {\n                    this.nextSlide();\n                }\n            }\n            slide.parentNode.removeChild(slide);\n        }\n        this.elements.splice(index, 1);\n\n        this.trigger('slide_removed', index);\n\n        // Deprecated and will be removed in a future update\n        if (_.isFunction(this.settings.slideRemoved)) {\n            this.settings.slideRemoved(index);\n        }\n    }\n\n    /**\n     * Slide In\n     * @return {null}\n     */\n    slideAnimateIn(slide, first) {\n        let slideMedia = slide.querySelector('.gslide-media');\n        let slideDesc = slide.querySelector('.gslide-description');\n        let prevData = {\n            index: this.prevActiveSlideIndex,\n            slide: this.prevActiveSlide, //this will be removed in the future\n            slideNode: this.prevActiveSlide,\n            slideIndex: this.prevActiveSlide,\n            slideConfig: _.isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n            trigger: _.isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n            player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n        };\n\n        let nextData = {\n            index: this.index,\n            slide: this.activeSlide, //this will be removed in the future\n            slideNode: this.activeSlide,\n            slideConfig: this.elements[this.index].slideConfig,\n            slideIndex: this.index,\n            trigger: this.elements[this.index].node,\n            player: this.getSlidePlayerInstance(this.index)\n        };\n        if (slideMedia.offsetWidth > 0 && slideDesc) {\n            _.hide(slideDesc);\n            slideDesc.style.display = '';\n        }\n\n        _.removeClass(slide, this.effectsClasses);\n\n        if (first) {\n            _.animateElement(slide, this.settings.cssEfects[this.settings.openEffect].in, () => {\n                if (this.settings.autoplayVideos) {\n                    this.slidePlayerPlay(slide);\n                }\n\n                this.trigger('slide_changed', {\n                    prev: prevData,\n                    current: nextData\n                });\n\n                // settings.afterSlideChange is deprecated and will be removed in a future update\n                if (_.isFunction(this.settings.afterSlideChange)) {\n                    this.settings.afterSlideChange.apply(this, [prevData, nextData]);\n                }\n            });\n        } else {\n            let effectName = this.settings.slideEffect;\n            let animIn = effectName !== 'none' ? this.settings.cssEfects[effectName].in : effectName;\n            if (this.prevActiveSlideIndex > this.index) {\n                if (this.settings.slideEffect == 'slide') {\n                    animIn = this.settings.cssEfects.slideBack.in;\n                }\n            }\n            _.animateElement(slide, animIn, () => {\n                if (this.settings.autoplayVideos) {\n                    this.slidePlayerPlay(slide);\n                }\n\n                this.trigger('slide_changed', {\n                    prev: prevData,\n                    current: nextData\n                });\n\n                // settings.afterSlideChange is deprecated and will be removed in a future update\n                if (_.isFunction(this.settings.afterSlideChange)) {\n                    this.settings.afterSlideChange.apply(this, [prevData, nextData]);\n                }\n            });\n        }\n\n        setTimeout(() => {\n            this.resize(slide);\n        }, 100);\n        _.addClass(slide, 'current');\n    }\n\n    /**\n     * Slide out\n     */\n    slideAnimateOut() {\n        if (!this.prevActiveSlide) {\n            return false;\n        }\n\n        let prevSlide = this.prevActiveSlide;\n        _.removeClass(prevSlide, this.effectsClasses);\n        _.addClass(prevSlide, 'prev');\n\n        let animation = this.settings.slideEffect;\n        let animOut = animation !== 'none' ? this.settings.cssEfects[animation].out : animation;\n\n        this.slidePlayerPause(prevSlide);\n\n        this.trigger('slide_before_change', {\n            prev: {\n                index: this.prevActiveSlideIndex, //this will be removed in the future\n                slide: this.prevActiveSlide, //this will be removed in the future\n                slideNode: this.prevActiveSlide,\n                slideIndex: this.prevActiveSlideIndex,\n                slideConfig: _.isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].slideConfig,\n                trigger: _.isNil(this.prevActiveSlideIndex) ? null : this.elements[this.prevActiveSlideIndex].node,\n                player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n            },\n            current: {\n                index: this.index, //this will be removed in the future\n                slide: this.activeSlide, //this will be removed in the future\n                slideNode: this.activeSlide,\n                slideIndex: this.index,\n                slideConfig: this.elements[this.index].slideConfig,\n                trigger: this.elements[this.index].node,\n                player: this.getSlidePlayerInstance(this.index)\n            }\n        });\n\n        // settings.beforeSlideChange is deprecated and will be removed in a future update\n        if (_.isFunction(this.settings.beforeSlideChange)) {\n            this.settings.beforeSlideChange.apply(this, [\n                {\n                    index: this.prevActiveSlideIndex,\n                    slide: this.prevActiveSlide,\n                    player: this.getSlidePlayerInstance(this.prevActiveSlideIndex)\n                },\n                {\n                    index: this.index,\n                    slide: this.activeSlide,\n                    player: this.getSlidePlayerInstance(this.index)\n                }\n            ]);\n        }\n        if (this.prevActiveSlideIndex > this.index && this.settings.slideEffect == 'slide') {\n            // going back\n            animOut = this.settings.cssEfects.slideBack.out;\n        }\n        _.animateElement(prevSlide, animOut, () => {\n            let container = prevSlide.querySelector('.ginner-container');\n            let media = prevSlide.querySelector('.gslide-media');\n            let desc = prevSlide.querySelector('.gslide-description');\n\n            container.style.transform = '';\n            media.style.transform = '';\n            _.removeClass(media, 'greset');\n            media.style.opacity = '';\n            if (desc) {\n                desc.style.opacity = '';\n            }\n            _.removeClass(prevSlide, 'prev');\n        });\n    }\n\n    /**\n     * Get all defined players\n     */\n    getAllPlayers() {\n        return this.videoPlayers;\n    }\n\n    /**\n     * Get player at index\n     *\n     * @param index\n     * @return bool|object\n     */\n    getSlidePlayerInstance(index) {\n        const id = 'gvideo' + index;\n        const videoPlayers = this.getAllPlayers();\n\n        if (_.has(videoPlayers, id) && videoPlayers[id]) {\n            return videoPlayers[id];\n        }\n\n        return false;\n    }\n\n    /**\n     * Stop video at specified\n     * node or index\n     *\n     * @param slide node or index\n     * @return void\n     */\n    stopSlideVideo(slide) {\n        if (_.isNode(slide)) {\n            let node = slide.querySelector('.gvideo-wrapper');\n            if (node) {\n                slide = node.getAttribute('data-index');\n            }\n        }\n        console.log('stopSlideVideo is deprecated, use slidePlayerPause');\n        const player = this.getSlidePlayerInstance(slide);\n        if (player && player.playing) {\n            player.pause();\n        }\n    }\n\n    /**\n     * Stop player at specified index\n     *\n     * @param slide node or index\n     * @return void\n     */\n    slidePlayerPause(slide) {\n        if (_.isNode(slide)) {\n            let node = slide.querySelector('.gvideo-wrapper');\n            if (node) {\n                slide = node.getAttribute('data-index');\n            }\n        }\n        const player = this.getSlidePlayerInstance(slide);\n        if (player && player.playing) {\n            player.pause();\n        }\n    }\n\n    /**\n     * Play video at specified\n     * node or index\n     *\n     * @param slide node or index\n     * @return void\n     */\n    playSlideVideo(slide) {\n        if (_.isNode(slide)) {\n            let node = slide.querySelector('.gvideo-wrapper');\n            if (node) {\n                slide = node.getAttribute('data-index');\n            }\n        }\n        console.log('playSlideVideo is deprecated, use slidePlayerPlay');\n        const player = this.getSlidePlayerInstance(slide);\n        if (player && !player.playing) {\n            player.play();\n        }\n    }\n\n    /**\n     * Play media player at specified\n     * node or index\n     *\n     * @param slide node or index\n     * @return void\n     */\n    slidePlayerPlay(slide) {\n        if (_.isNode(slide)) {\n            let node = slide.querySelector('.gvideo-wrapper');\n            if (node) {\n                slide = node.getAttribute('data-index');\n            }\n        }\n\n        const player = this.getSlidePlayerInstance(slide);\n\n        if (player && !player.playing) {\n            player.play();\n            if (this.settings.autofocusVideos) {\n                player.elements.container.focus();\n            }\n        }\n    }\n\n    /**\n     * Set the entire elements\n     * in the gallery, it replaces all\n     * the existing elements\n     * with the specified list\n     *\n     * @param {array}  elements\n     */\n    setElements(elements) {\n        this.settings.elements = false;\n\n        const newElements = [];\n\n        if (elements && elements.length) {\n            _.each(elements, (el, i) => {\n                const slide = new Slide(el, this, i);\n                const data = slide.getConfig();\n                const slideInfo = _.extend({}, data);\n\n                slideInfo.slideConfig = data;\n                slideInfo.instance = slide;\n                slideInfo.index = i;\n                newElements.push(slideInfo);\n            });\n        }\n\n        this.elements = newElements;\n\n        if (this.lightboxOpen) {\n            this.slidesContainer.innerHTML = '';\n\n            if (this.elements.length) {\n                _.each(this.elements, () => {\n                    let slide = _.createHTML(this.settings.slideHTML);\n                    this.slidesContainer.appendChild(slide);\n                });\n                this.showSlide(0, true);\n            }\n        }\n    }\n\n    /**\n     * Return the index\n     * of the specified node,\n     * this node is for example an image, link, etc.\n     * that when clicked it opens the lightbox\n     * its position in the elements array can change\n     * when using insertSlide or removeSlide so we\n     * need to find it in the elements list\n     *\n     * @param {node} node\n     * @return bool|int\n     */\n    getElementIndex(node) {\n        let index = false;\n        _.each(this.elements, (el, i) => {\n            if (_.has(el, 'node') && el.node == node) {\n                index = i;\n                return true; // exit loop\n            }\n        });\n\n        return index;\n    }\n\n    /**\n     * Get elements\n     * returns an array containing all\n     * the elements that must be displayed in the\n     * lightbox\n     *\n     * @return { array }\n     */\n    getElements() {\n        let list = [];\n        this.elements = this.elements ? this.elements : [];\n\n        if (!_.isNil(this.settings.elements) && _.isArray(this.settings.elements) && this.settings.elements.length) {\n            _.each(this.settings.elements, (el, i) => {\n                const slide = new Slide(el, this, i);\n                const elData = slide.getConfig();\n                const slideInfo = _.extend({}, elData);\n\n                slideInfo.node = false;\n                slideInfo.index = i;\n                slideInfo.instance = slide;\n                slideInfo.slideConfig = elData;\n                list.push(slideInfo);\n            });\n        }\n\n        let nodes = false;\n        let selector = this.getSelector();\n\n        if (selector) {\n            nodes = document.querySelectorAll(this.getSelector());\n        }\n\n        if (!nodes) {\n            return list;\n        }\n\n        _.each(nodes, (el, i) => {\n            const slide = new Slide(el, this, i);\n            const elData = slide.getConfig();\n            const slideInfo = _.extend({}, elData);\n\n            slideInfo.node = el;\n            slideInfo.index = i;\n            slideInfo.instance = slide;\n            slideInfo.slideConfig = elData;\n            slideInfo.gallery = el.getAttribute('data-gallery');\n            list.push(slideInfo);\n        });\n\n        return list;\n    }\n\n    /**\n     * Return only the elements\n     * from a specific gallery\n     *\n     * @return array\n     */\n    getGalleryElements(list, gallery) {\n        return list.filter((el) => {\n            return el.gallery == gallery;\n        });\n    }\n\n    /**\n     * Get selector\n     */\n    getSelector() {\n        if (this.settings.elements) {\n            return false;\n        }\n        if (this.settings.selector && this.settings.selector.substring(0, 5) == 'data-') {\n            return `*[${this.settings.selector}]`;\n        }\n        return this.settings.selector;\n    }\n\n    /**\n     * Get the active slide\n     */\n    getActiveSlide() {\n        return this.slidesContainer.querySelectorAll('.gslide')[this.index];\n    }\n\n    /**\n     * Get the active index\n     */\n    getActiveSlideIndex() {\n        return this.index;\n    }\n\n    /**\n     * Get the defined\n     * effects as string\n     */\n    getAnimationClasses() {\n        let effects = [];\n        for (let key in this.settings.cssEfects) {\n            if (this.settings.cssEfects.hasOwnProperty(key)) {\n                let effect = this.settings.cssEfects[key];\n                effects.push(`g${effect.in}`);\n                effects.push(`g${effect.out}`);\n            }\n        }\n        return effects.join(' ');\n    }\n\n    /**\n     * Build the structure\n     * @return {null}\n     */\n    build() {\n        if (this.built) {\n            return false;\n        }\n\n        // TODO: :scope is not supported on IE or first Edge. so we'll\n        // update this when IE support is removed to use newer code\n        //const children = document.body.querySelectorAll(':scope > *');\n        const children = document.body.childNodes;\n        const bodyChildElms = [];\n        _.each(children, (el) => {\n            if (el.parentNode == document.body && el.nodeName.charAt(0) !== '#' && el.hasAttribute && !el.hasAttribute('aria-hidden')) {\n                bodyChildElms.push(el);\n                el.setAttribute('aria-hidden', 'true');\n            }\n        });\n\n        const nextSVG = _.has(this.settings.svg, 'next') ? this.settings.svg.next : '';\n        const prevSVG = _.has(this.settings.svg, 'prev') ? this.settings.svg.prev : '';\n        const closeSVG = _.has(this.settings.svg, 'close') ? this.settings.svg.close : '';\n\n        let lightboxHTML = this.settings.lightboxHTML;\n        lightboxHTML = lightboxHTML.replace(/{nextSVG}/g, nextSVG);\n        lightboxHTML = lightboxHTML.replace(/{prevSVG}/g, prevSVG);\n        lightboxHTML = lightboxHTML.replace(/{closeSVG}/g, closeSVG);\n\n        lightboxHTML = _.createHTML(lightboxHTML);\n        document.body.appendChild(lightboxHTML);\n\n        const modal = document.getElementById('glightbox-body');\n        this.modal = modal;\n        let closeButton = modal.querySelector('.gclose');\n        this.prevButton = modal.querySelector('.gprev');\n        this.nextButton = modal.querySelector('.gnext');\n        this.overlay = modal.querySelector('.goverlay');\n        this.loader = modal.querySelector('.gloader');\n        this.slidesContainer = document.getElementById('glightbox-slider');\n        this.bodyHiddenChildElms = bodyChildElms;\n        this.events = {};\n\n        _.addClass(this.modal, 'glightbox-' + this.settings.skin);\n\n        if (this.settings.closeButton && closeButton) {\n            this.events['close'] = _.addEvent('click', {\n                onElement: closeButton,\n                withCallback: (e, target) => {\n                    e.preventDefault();\n                    this.close();\n                }\n            });\n        }\n        if (closeButton && !this.settings.closeButton) {\n            closeButton.parentNode.removeChild(closeButton);\n        }\n\n        if (this.nextButton) {\n            this.events['next'] = _.addEvent('click', {\n                onElement: this.nextButton,\n                withCallback: (e, target) => {\n                    e.preventDefault();\n                    this.nextSlide();\n                }\n            });\n        }\n\n        if (this.prevButton) {\n            this.events['prev'] = _.addEvent('click', {\n                onElement: this.prevButton,\n                withCallback: (e, target) => {\n                    e.preventDefault();\n                    this.prevSlide();\n                }\n            });\n        }\n        if (this.settings.closeOnOutsideClick) {\n            this.events['outClose'] = _.addEvent('click', {\n                onElement: modal,\n                withCallback: (e, target) => {\n                    if (!this.preventOutsideClick && !_.hasClass(document.body, 'glightbox-mobile') && !_.closest(e.target, '.ginner-container')) {\n                        if (!_.closest(e.target, '.gbtn') && !_.hasClass(e.target, 'gnext') && !_.hasClass(e.target, 'gprev')) {\n                            this.close();\n                        }\n                    }\n                }\n            });\n        }\n\n        _.each(this.elements, (slide, i) => {\n            this.slidesContainer.appendChild(slide.instance.create());\n            slide.slideNode = this.slidesContainer.querySelectorAll('.gslide')[i];\n        });\n        if (isTouch) {\n            _.addClass(document.body, 'glightbox-touch');\n        }\n\n        this.events['resize'] = _.addEvent('resize', {\n            onElement: window,\n            withCallback: () => {\n                this.resize();\n            }\n        });\n\n        this.built = true;\n    }\n\n    /**\n     * Handle resize\n     * Create only to handle\n     * when the height of the screen\n     * is lower than the slide content\n     * this helps to resize videos vertically\n     * and images with description\n     */\n    resize(slide = null) {\n        slide = !slide ? this.activeSlide : slide;\n\n        if (!slide || _.hasClass(slide, 'zoomed')) {\n            return;\n        }\n\n        const winSize = _.windowSize();\n        const video = slide.querySelector('.gvideo-wrapper');\n        const image = slide.querySelector('.gslide-image');\n        const description = this.slideDescription;\n\n        let winWidth = winSize.width;\n        let winHeight = winSize.height;\n\n        if (winWidth <= 768) {\n            _.addClass(document.body, 'glightbox-mobile');\n        } else {\n            _.removeClass(document.body, 'glightbox-mobile');\n        }\n\n        if (!video && !image) {\n            return;\n        }\n\n        let descriptionResize = false;\n        if (description && (_.hasClass(description, 'description-bottom') || _.hasClass(description, 'description-top')) && !_.hasClass(description, 'gabsolute')) {\n            descriptionResize = true;\n        }\n\n        if (image) {\n            if (winWidth <= 768) {\n                let imgNode = image.querySelector('img');\n                //imgNode.setAttribute('style', '');\n            } else if (descriptionResize) {\n                let descHeight = description.offsetHeight;\n                let imgNode = image.querySelector('img');\n\n                imgNode.setAttribute('style', `max-height: calc(100vh - ${descHeight}px)`);\n                description.setAttribute('style', `max-width: ${imgNode.offsetWidth}px;`);\n            }\n        }\n\n        if (video) {\n            let ratio = _.has(this.settings.plyr.config, 'ratio') ? this.settings.plyr.config.ratio : '';\n\n            if (!ratio) {\n                // If no ratio passed, calculate it using the video width and height\n                // generated by Plyr\n                const containerWidth = video.clientWidth;\n                const containerHeight = video.clientHeight;\n                const divisor = containerWidth / containerHeight;\n                ratio = `${containerWidth / divisor}:${containerHeight / divisor}`;\n            }\n\n            let videoRatio = ratio.split(':');\n            let videoWidth = this.settings.videosWidth;\n            let maxWidth = this.settings.videosWidth;\n\n            if (_.isNumber(videoWidth) || videoWidth.indexOf('px') !== -1) {\n                maxWidth = parseInt(videoWidth);\n            } else {\n                // If video size is vw, vh or % convert it to pixels,\n                // fallback to the current video size\n                if (videoWidth.indexOf('vw') !== -1) {\n                    maxWidth = (winWidth * parseInt(videoWidth)) / 100;\n                } else if (videoWidth.indexOf('vh') !== -1) {\n                    maxWidth = (winHeight * parseInt(videoWidth)) / 100;\n                } else if (videoWidth.indexOf('%') !== -1) {\n                    maxWidth = (winWidth * parseInt(videoWidth)) / 100;\n                } else {\n                    maxWidth = parseInt(video.clientWidth);\n                }\n            }\n\n            let maxHeight = maxWidth / (parseInt(videoRatio[0]) / parseInt(videoRatio[1]));\n            maxHeight = Math.floor(maxHeight);\n\n            if (descriptionResize) {\n                winHeight = winHeight - description.offsetHeight;\n            }\n\n            if (maxWidth > winWidth || maxHeight > winHeight || (winHeight < maxHeight && winWidth > maxWidth)) {\n                let vwidth = video.offsetWidth;\n                let vheight = video.offsetHeight;\n                let ratio = winHeight / vheight;\n                let vsize = { width: vwidth * ratio, height: vheight * ratio };\n                video.parentNode.setAttribute('style', `max-width: ${vsize.width}px`);\n\n                if (descriptionResize) {\n                    description.setAttribute('style', `max-width: ${vsize.width}px;`);\n                }\n            } else {\n                video.parentNode.style.maxWidth = `${videoWidth}`;\n                if (descriptionResize) {\n                    description.setAttribute('style', `max-width: ${videoWidth};`);\n                }\n            }\n        }\n    }\n\n    /**\n     * Reload Lightbox\n     * reload and apply events to nodes\n     */\n    reload() {\n        this.init();\n    }\n\n    /**\n     * Update navigation classes on slide change\n     */\n    updateNavigationClasses() {\n        const loop = this.loop();\n        // Handle navigation arrows\n        _.removeClass(this.nextButton, 'disabled');\n        _.removeClass(this.prevButton, 'disabled');\n\n        if (this.index == 0 && this.elements.length - 1 == 0) {\n            _.addClass(this.prevButton, 'disabled');\n            _.addClass(this.nextButton, 'disabled');\n        } else if (this.index === 0 && !loop) {\n            _.addClass(this.prevButton, 'disabled');\n        } else if (this.index === this.elements.length - 1 && !loop) {\n            _.addClass(this.nextButton, 'disabled');\n        }\n    }\n\n    /**\n     * Handle loop config\n     */\n    loop() {\n        let loop = _.has(this.settings, 'loopAtEnd') ? this.settings.loopAtEnd : null;\n        loop = _.has(this.settings, 'loop') ? this.settings.loop : loop;\n\n        return loop;\n    }\n\n    /**\n     * Close Lightbox\n     * closes the lightbox and removes the slides\n     * and some classes\n     */\n    close() {\n        if (!this.lightboxOpen) {\n            if (this.events) {\n                for (let key in this.events) {\n                    if (this.events.hasOwnProperty(key)) {\n                        this.events[key].destroy();\n                    }\n                }\n                this.events = null;\n            }\n            return false;\n        }\n\n        if (this.closing) {\n            return false;\n        }\n        this.closing = true;\n        this.slidePlayerPause(this.activeSlide);\n\n        if (this.fullElementsList) {\n            this.elements = this.fullElementsList;\n        }\n\n        if (this.bodyHiddenChildElms.length) {\n            _.each(this.bodyHiddenChildElms, (el) => {\n                el.removeAttribute('aria-hidden');\n            });\n        }\n\n        _.addClass(this.modal, 'glightbox-closing');\n        _.animateElement(this.overlay, this.settings.openEffect == 'none' ? 'none' : this.settings.cssEfects.fade.out);\n        _.animateElement(this.activeSlide, this.settings.cssEfects[this.settings.closeEffect].out, () => {\n            this.activeSlide = null;\n            this.prevActiveSlideIndex = null;\n            this.prevActiveSlide = null;\n            this.built = false;\n\n            if (this.events) {\n                for (let key in this.events) {\n                    if (this.events.hasOwnProperty(key)) {\n                        this.events[key].destroy();\n                    }\n                }\n                this.events = null;\n            }\n\n            const body = document.body;\n            _.removeClass(html, 'glightbox-open');\n            _.removeClass(body, 'glightbox-open touching gdesc-open glightbox-touch glightbox-mobile gscrollbar-fixer');\n            this.modal.parentNode.removeChild(this.modal);\n\n            this.trigger('close');\n\n            // settings.onClose is deprecated and will be removed in a future update\n            if (_.isFunction(this.settings.onClose)) {\n                this.settings.onClose();\n            }\n\n            const styles = document.querySelector('.gcss-styles');\n            if (styles) {\n                styles.parentNode.removeChild(styles);\n            }\n            this.lightboxOpen = false;\n            this.closing = null;\n        });\n    }\n\n    /**\n     * Destroy lightbox\n     * and all events\n     */\n    destroy() {\n        this.close();\n        this.clearAllEvents();\n\n        if (this.baseEvents) {\n            this.baseEvents.destroy();\n        }\n    }\n\n    /**\n     * Set event\n     */\n    on(evt, callback, once = false) {\n        if (!evt || !_.isFunction(callback)) {\n            throw new TypeError('Event name and callback must be defined');\n        }\n        this.apiEvents.push({ evt, once, callback });\n    }\n\n    /**\n     * Set event\n     */\n    once(evt, callback) {\n        this.on(evt, callback, true);\n    }\n\n    /**\n     * Triggers an specific event\n     * with data\n     *\n     * @param string eventName\n     */\n    trigger(eventName, data = null) {\n        const onceTriggered = [];\n        _.each(this.apiEvents, (event, i) => {\n            const { evt, once, callback } = event;\n            if (evt == eventName) {\n                callback(data);\n                if (once) {\n                    onceTriggered.push(i);\n                }\n            }\n        });\n        if (onceTriggered.length) {\n            _.each(onceTriggered, (i) => this.apiEvents.splice(i, 1));\n        }\n    }\n\n    /**\n     * Removes all events\n     * set using the API\n     */\n    clearAllEvents() {\n        this.apiEvents.splice(0, this.apiEvents.length);\n    }\n\n    /**\n     * Get Version\n     */\n    version() {\n        return version;\n    }\n}\n\nexport default function (options = {}) {\n    const instance = new GlightboxInit(options);\n    instance.init();\n\n    return instance;\n}\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}